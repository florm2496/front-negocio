{"version":3,"sources":["webpack:///./src/apis/cuentas.js","webpack:///./src/components/clientes/cuentascliente.vue?0583","webpack:///./src/components/clientes/cuentascliente.vue?adbd","webpack:///src/components/clientes/cuentascliente.vue","webpack:///./src/components/clientes/cuentascliente.vue?a1ff","webpack:///./src/components/clientes/cuentascliente.vue?9704"],"names":["url","apiauth","APIAuth","APICuentas","token","getToken","this","headers","access","u","getheaders","api","get","cuentas","console","log","data","num_cuenta","solicitante","params","detalles","cliente","numero_cuenta","cuenta","datos","post","id","url2","put","delete","numerocuenta","cantcuotas","fechavenc","response","nuevopago","render","_vm","_h","$createElement","_c","_self","attrs","_v","_s","nombrecliente","staticStyle","staticClass","model","value","callback","$$v","filter","expression","on","$event","pageOptions","perPage","fields","currentPage","filterOn","sortBy","sortDesc","sortDirection","onFiltered","scopedSlots","_u","key","fn","row","first","last","abrirmodal","getcuenta","item","deleteswal","detallecuenta","detallepagos","totalRows","staticRenderFns","dnicliente","nombre","mounted","getcuentas","methods","component"],"mappings":"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","file":"js/chunk-744bd8c1.e46fe1f8.js","sourcesContent":["import api from \"../axios\";\n\n\nimport {APIAuth} from \"./auth\";\n// CommonJS\n\nconst url='cuentas/'\nconst apiauth = new APIAuth()\n\n\nclass APICuentas{\n   \n\n    async getToken(){\n        const token = apiauth.getToken()\n        return token\n    }\n\n    async getheaders(){\n        const token = await this.getToken();\n        const headers={\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer \" + token.access,\n        }\n        return headers\n\n    }\n\n\n    async getCuentas(){\n        let u=url + 'lista'\n        const headers= await this.getheaders();\n        const cuentas =await api.get(u,{headers})\n        console.log(cuentas.data)\n        return cuentas.data;\n        \n     \n        \n    }\n    async getDetalleCuentas(num_cuenta,solicitante){\n        let u=url + 'detallescuenta'\n        const headers= await this.getheaders();\n        const params = {\n            'numero_cuenta':num_cuenta,\n            'dni_solicitante':solicitante,\n        }\n        const detalles =await api.get(u,{params},{headers})\n\n        return detalles.data;\n        \n     \n        \n    }\n    async cuentasbycliente(cliente,numero_cuenta){\n        let u=url + 'reportescuentas'\n        let params = {'cliente':cliente,\n                        'numero_cuenta':numero_cuenta}\n        const headers= await this.getheaders();\n        \n        const cuentas =await api.get(u,{params},{headers})\n        return cuentas.data;\n\n    }\n    async getNumCuenta(){\n        let u=url + 'numerocuenta'\n        const headers= await this.getheaders();\n        const cuenta =await api.get(u,{headers})\n        return cuenta.data;\n        \n     \n        \n    }\n\n    async addcuenta(datos){\n        const headers= await this.getheaders();\n        let u=url+ 'registrarcuenta'\n        return await api.post(u,datos,{headers})\n       \n    }\n    async updatecuenta(id,cliente){\n        const headers= await this.getheaders();\n        const url2=url + id + '/'\n \n        return await api.put(url2,cliente ,{headers})\n         \n    \n\n    }\n    async deletecuenta(id){\n        const url2=url + id + '/'\n        const headers= await this.getheaders();\n        return await api.delete(url2,{headers})\n    }\n    async cuotascuenta(numerocuenta){\n        let u=url + 'cuotascuenta'\n        const headers= await this.getheaders();\n        let params = {'num_cuenta':numerocuenta}\n        const cuenta =await api.get(u,{params},{headers})\n        return cuenta.data;\n        \n\n    }\n    async refinanciar_cuenta(numerocuenta,cantcuotas,fechavenc){\n        let u=url + 'refinanciarcuenta'\n        const headers= await this.getheaders();\n        let datos = {'cuenta':numerocuenta,'cant_cuotas':cantcuotas,'fecha_venc':fechavenc}\n        const response =await api.post(u,datos,{headers})\n        return response.data;\n        \n\n    }\n    async nuevopago(datos){\n        let u=url + 'nuevopago'\n        const headers= await this.getheaders();\n        const nuevopago =await api.post(u,datos,{headers})\n        return nuevopago.data;\n\n    }\n}\n\nexport default new APICuentas();","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cuentascliente.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',{attrs:{\"align-h\":\"between\"}},[_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('h3',[_vm._v(\"Cuentas de \"+_vm._s(this.nombrecliente))])]),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-button',{staticStyle:{\"margin\":\"10px\"},attrs:{\"to\":\"clientes\"}},[_c('b-icon',{attrs:{\"icon\":\"arrow-left-circle-fill\"}})],1)],1)],1),_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Escribe lo que quieras buscar\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\"Buscar\")])],1)],1)],1)],1),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"5\",\"md\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Clientes por pagina\",\"label-for\":\"per-page-select\",\"label-cols-sm\":\"6\",\"label-cols-md\":\"4\",\"label-cols-lg\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-form-select',{attrs:{\"id\":\"per-page-select\",\"options\":_vm.pageOptions,\"size\":\"sm\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)],1)],1),_c('b-table',{attrs:{\"items\":_vm.cuentas,\"fields\":_vm.fields,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filterOn,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"sort-direction\":_vm.sortDirection,\"stacked\":\"md\",\"show-empty\":\"\",\"small\":\"\",\"id\":\"tabla-clientes\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(name)\",fn:function(row){return [_vm._v(\" \"+_vm._s(row.value.first)+\" \"+_vm._s(row.value.last)+\" \")]}},{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{staticClass:\"action\",attrs:{\"id\":\"editarcuenta\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.abrirmodal('modificar',_vm.getcuenta(row.item))}}},[_c('b-icon',{attrs:{\"icon\":\"tag-fill\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"editarcuenta\",\"triggers\":\"hover\"}},[_vm._v(\" Editar esta cuenta \")]),_c('b-button',{staticClass:\"action\",attrs:{\"id\":\"eliminarcuenta\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.deleteswal(row.item)}}},[_c('b-icon',{attrs:{\"icon\":\"trash-fill\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"eliminarcuenta\",\"triggers\":\"hover\"}},[_vm._v(\" Eliminar esta cuenta \")]),_c('b-button',{staticClass:\"action\",attrs:{\"id\":\"detallecuenta\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.detallecuenta(row.item)}}},[_c('b-icon',{attrs:{\"icon\":\"folder2\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"detallecuenta\",\"triggers\":\"hover\"}},[_vm._v(\" Detalle de esta cuenta \")]),_c('b-button',{staticClass:\"action\",attrs:{\"size\":\"sm\",\"id\":\"cuotaspagos\"},on:{\"click\":function($event){return _vm.detallepagos(row.item)}}},[_c('b-icon',{attrs:{\"icon\":\"wallet2\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"cuotaspagos\",\"triggers\":\"hover\"}},[_vm._v(\" Cuotas y pagos de esta cuenta \")])]}}])}),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"7\",\"md\":\"6\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"fill\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n\n  \n  <b-container fluid>\n\n<b-row align-h=\"between\">\n  <b-col cols=\"4\">   <h3>Cuentas de {{this.nombrecliente}}</h3></b-col>\n  <b-col cols=\"2\">  <b-button style=\"margin:10px;\" to=\"clientes\"><b-icon icon=\"arrow-left-circle-fill\"></b-icon></b-button></b-col>\n</b-row>\n    <!-- User Interface controls -->\n \n    <b-row>\n  \n      <b-col lg=\"6\" class=\"my-1\">\n        <b-form-group\n          label=\"\"\n          label-for=\"filter-input\"\n          label-cols-sm=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n        >\n          <b-input-group size=\"sm\">\n            <b-form-input\n              id=\"filter-input\"\n              v-model=\"filter\"\n              type=\"search\"\n              placeholder=\"Escribe lo que quieras buscar\"\n            ></b-form-input>\n\n            <b-input-group-append>\n              <b-button :disabled=\"!filter\" @click=\"filter = ''\">Buscar</b-button>\n            </b-input-group-append>\n          </b-input-group>\n        </b-form-group>\n      </b-col>\n\n      <b-col sm=\"5\" md=\"6\" class=\"my-1\">\n        <b-form-group\n          label=\"Clientes por pagina\"\n          label-for=\"per-page-select\"\n          label-cols-sm=\"6\"\n          label-cols-md=\"4\"\n          label-cols-lg=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n        >\n          <b-form-select\n            id=\"per-page-select\"\n            v-model=\"perPage\"\n            :options=\"pageOptions\"\n            size=\"sm\"\n          ></b-form-select>\n        </b-form-group>\n      </b-col>\n\n \n    </b-row>\n    <b-table\n      :items=\"cuentas\"\n      :fields=\"fields\"\n      :current-page=\"currentPage\"\n      :per-page=\"perPage\"\n      :filter=\"filter\"\n      :filter-included-fields=\"filterOn\"\n      :sort-by.sync=\"sortBy\"\n      :sort-desc.sync=\"sortDesc\"\n      :sort-direction=\"sortDirection\"\n      stacked=\"md\"\n      show-empty\n      small\n      @filtered=\"onFiltered\"\n      id=\"tabla-clientes\"\n    >\n      <template #cell(name)=\"row\">\n        {{ row.value.first }} {{ row.value.last }}\n      </template>\n\n         <template #cell(actions)=\"row\">\n        <!-- <b-button size=\"sm\" @click=\"deletemodal(row.item, row.index, $event.target)\" class=\"mr-1\">\n         Eliminar\n        </b-button> -->\n   \n        <b-button id=\"editarcuenta\"  class=\"action\" size=\"sm\" @click=\"abrirmodal('modificar',getcuenta(row.item))\">    <b-icon icon=\"tag-fill\"></b-icon></b-button>\n            <b-tooltip target=\"editarcuenta\" triggers=\"hover\">\n                Editar esta cuenta\n              </b-tooltip>\n           <b-button  id=\"eliminarcuenta\" class=\"action\" size=\"sm\" @click=\"deleteswal(row.item)\">\n         <b-icon icon=\"trash-fill\"></b-icon>\n        </b-button>\n             <b-tooltip target=\"eliminarcuenta\" triggers=\"hover\">\n                Eliminar esta cuenta\n              </b-tooltip>\n\n\n        <b-button id=\"detallecuenta\" class=\"action\" size=\"sm\" @click=\"detallecuenta(row.item)\">    <b-icon icon=\"folder2\"></b-icon></b-button>\n         <b-tooltip target=\"detallecuenta\" triggers=\"hover\">\n                Detalle de esta cuenta\n              </b-tooltip>\n\n         <b-button class=\"action\" size=\"sm\" id=\"cuotaspagos\"  @click=\"detallepagos(row.item)\">    <b-icon icon=\"wallet2\"></b-icon></b-button>\n                 <b-tooltip target=\"cuotaspagos\" triggers=\"hover\">\n                Cuotas y pagos de esta cuenta\n              </b-tooltip>\n      </template>\n      <!-- <template #cell(actions)=\"row\">\n       <b-button size=\"sm\" @click=\"deletemodal(row.item, row.index, $event.target)\" class=\"mr-1\">\n         Eliminar\n        </b-button>\n\n      </template> -->\n\n  \n    </b-table>\n     <b-col sm=\"7\" md=\"6\" class=\"my-1\">\n        <b-pagination\n          v-model=\"currentPage\"\n          :total-rows=\"totalRows\"\n          :per-page=\"perPage\"\n          align=\"fill\"\n          size=\"sm\"\n          class=\"my-0\"\n        ></b-pagination>\n      </b-col>\n\n\n  </b-container>\n</div>\n \n</template>\n\n<script>\n\nimport APICuentas from '../../apis/cuentas'\n\n// import ModificarCliente from './modificar.vue'\n  export default {\n      name: 'CuentasCliente',\n      components: {\n        //   ModificarCliente,\n         \n      },\n    data() {\n      return {\n      \n        objetocliente:null,\n        datos: [],\n        cliente_id:'0',\n        totalRows: 1,\n        currentPage: 1,\n        perPage: 10,\n        cuentas: null,\n     \n        pageOptions: [5, 10, 15, { value: 100, text: \"Show a lot\" }],\n        sortBy: '',\n        sortDesc: false,\n        sortDirection: 'asc',\n        filter: null,\n        filterOn: [],\n        display:false,\n        consulta:null,\n        resultdelete:'',\n        dnicliente: '',\n        nombrecliente:'',\n        accion:'',\n        fields:[\n          { key: 'fecha', label: 'Fecha', sortable: true, class: 'text-center' },\n          { key: 'garante', label: 'Garante', sortable: true, sortDirection: 'desc' },\n       \n          { key: 'importe', label: 'Importe', sortable: true, class: 'text-center' },\n          { key: 'numero_cuenta', label: 'NÂ° cuenta', sortable: true, class: 'text-center' },\n          { key: 'anticipo', label: 'saldo', sortable: true, class: 'text-center' },\n \n          { key: 'metodo_pago', label: 'metodo_pago', sortable: true, class: 'text-center' },\n          { key: 'estado', label: 'estado', sortable: true, class: 'text-center' },\n          { key: 'actions', label: 'Acciones' }\n\n            ],\n        infoModal: {\n          id: 'info-modal',\n          title: '',\n          content: ''\n        }\n      }\n    },\n    created(){\n    this.dnicliente=this.$route.query.dni\n\n    this.nombrecliente=this.$route.query.nombre\n    console.log(this.cliente.nombre)\n    },\n  mounted(){\n    this.getcuentas()\n    \n  },\n  methods:{\n    async getcuentas(){\n      console.log(this.dnicliente)\n      const datos= await APICuentas.cuentasbycliente(this.dnicliente,null)\n      console.log(datos)\n      this.cuentas = datos\n    },\n         onFiltered(filteredItems) {\n        // Trigger pagination to update the number of buttons/pages due to filtering\n        this.totalRows = filteredItems.length\n        this.currentPage = 1\n      },\n     detallepagos(cuenta){\n        console.log(cuenta.id)\n        this.$router.push({path :'/detallepagos',query:{num_cuenta:cuenta.numero_cuenta ,id_cuenta:cuenta.id}});\n      },\n       detallecuenta(cuenta){\n        \n        this.$router.push({path :'/detallecuenta',query:{num_cuenta:cuenta.numero_cuenta ,solicitante_dni:cuenta.solicitante_dni}});\n      },\n  }\n\n  }\n</script>\n\n<style>\n    .sr-only {display: none;}\n    .action{\n      margin: 3px;\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cuentascliente.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cuentascliente.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cuentascliente.vue?vue&type=template&id=21dc5d41&\"\nimport script from \"./cuentascliente.vue?vue&type=script&lang=js&\"\nexport * from \"./cuentascliente.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cuentascliente.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}