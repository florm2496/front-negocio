(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e723526","chunk-482050f6"],{"619b":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-container",{staticClass:"bv-example-row bv-example-row-flex-cols",attrs:{fluid:"xl"}},[r("b-row",[r("b-row",[r("b-col",{attrs:{cols:"6"}}),r("b-col",{attrs:{cols:"6"}},[r("b-row")],1)],1),r("b-col"),r("b-col",[r("label",{attrs:{for:""}},[t._v("Datos del cliente")]),r("b-row",[r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("b-button",{on:{click:function(e){return t.abrirmodalclientes()}}},[r("b-icon",{attrs:{icon:"list"}})],1)],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"8"}},[r("b-form-input",{attrs:{placeholder:"Busca un solicitante por DNI"},model:{value:t.buscar_solicitante,callback:function(e){t.buscar_solicitante=e},expression:"buscar_solicitante"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("b-button",{attrs:{disabled:t.solicitante_disabled},on:{click:function(e){return t.buscarCliente(t.buscar_solicitante,"solicitante")}}},[r("b-icon",{attrs:{icon:"search"}})],1)],1)],1),r("b-row",[r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[r("label",{attrs:{for:""}},[t._v("Documento")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"auto"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.cliente.dni,callback:function(e){t.$set(t.cliente,"dni",e)},expression:"cliente.dni"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[r("label",{attrs:{for:""}},[t._v("Nombre")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"auto"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.cliente.nombre,callback:function(e){t.$set(t.cliente,"nombre",e)},expression:"cliente.nombre"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[r("label",{attrs:{for:""}},[t._v("Garante")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"6"}},[r("b-form-input",{attrs:{placeholder:"Busca un garante por DNI"},model:{value:t.buscar_garante,callback:function(e){t.buscar_garante=e},expression:"buscar_garante"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("b-button",{attrs:{disabled:t.garante_disabled},on:{click:function(e){return t.buscarCliente(t.buscar_garante,"garante")}}},[r("b-icon",{attrs:{icon:"search"}})],1)],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[r("label",{attrs:{for:""}},[t._v("Doc")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.garante1.dni,callback:function(e){t.$set(t.garante1,"dni",e)},expression:"garante1.dni"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Nombre")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.garante1.nombre,callback:function(e){t.$set(t.garante1,"nombre",e)},expression:"garante1.nombre"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-button",{on:{click:function(e){return t.eliminar_garante("1")}}},[t._v("X")])],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[r("label",{attrs:{for:""}},[t._v("Doc")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.garante2.dni,callback:function(e){t.$set(t.garante2,"dni",e)},expression:"garante2.dni"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Nombre")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.garante2.nombre,callback:function(e){t.$set(t.garante2,"nombre",e)},expression:"garante2.nombre"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-button",{on:{click:function(e){return t.eliminar_garante("2")}}},[t._v("X")])],1)],1)],1),r("b-col",[r("b-container",{staticStyle:{margin:"15px"}},[r("b-row",[r("b-row",[r("b-col",{attrs:{cols:"6"}}),r("b-col",{attrs:{cols:"4"}}),r("b-col",{attrs:{cols:"2"}},[r("b-button",{staticStyle:{margin:"10px"},attrs:{to:"cuentas"}},[r("b-icon",{attrs:{icon:"arrow-left-circle-fill"}})],1)],1)],1),r("b-row",[r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("N°c")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.num_cuenta,callback:function(e){t.num_cuenta=e},expression:"num_cuenta"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Total")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.totaldesc,callback:function(e){t.totaldesc=e},expression:"totaldesc"}})],1)],1),r("b-row",[r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Cuotas")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{attrs:{disabled:0==t.total,placeholder:"Ingrese la cantidad de cuotas",required:""},model:{value:t.cuotas,callback:function(e){t.cuotas=e},expression:"cuotas"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Importe")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{attrs:{disabled:""},model:{value:t.importecuotas,callback:function(e){t.importecuotas=e},expression:"importecuotas"}})],1)],1),r("b-row",[r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Anticipo")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("b-form-input",{model:{value:t.anticipo,callback:function(e){t.anticipo=e},expression:"anticipo"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[r("label",{attrs:{for:""}},[t._v("Metodo de pago")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[r("v-select",{attrs:{id:"metodo_id",options:t.metodos},model:{value:t.metodo,callback:function(e){t.metodo=e},expression:"metodo"}})],1)],1),r("b-row",[r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"6"}},[r("label",{attrs:{for:""}},[t._v("Fecha de vencimiento")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"6"}},[r("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker",locale:"es",placeholder:"Seleccione fecha","label-help":""},model:{value:t.fecha_venc,callback:function(e){t.fecha_venc=e},expression:"fecha_venc"}})],1)],1)],1)],1),r("b-row"),r("b-row",[r("b-col"),r("b-col",{attrs:{cols:"auto"}},[r("b-button",{attrs:{disabled:t.vender_disabled},on:{click:function(e){return t.vender()}}},[r("b-icon",{attrs:{icon:"cart-check"}}),t._v(" Vender")],1)],1),r("b-col")],1)],1)],1),r("b-row",[r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Detalles de productos")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Precio")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Cantidad")])]),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("label",{attrs:{for:""}},[t._v("Descuento")])]),r("b-row",[r("b-col",{staticClass:"mr-auto mb-auto p-3",attrs:{cols:"2"}},[r("b-form-input",{attrs:{placeholder:"Producto"},model:{value:t.producto.nombre,callback:function(e){t.$set(t.producto,"nombre",e)},expression:"producto.nombre"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("b-form-input",{attrs:{placeholder:"Precio",disabled:""},model:{value:t.producto.precio,callback:function(e){t.$set(t.producto,"precio",e)},expression:"producto.precio"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("b-form-input",{attrs:{placeholder:"Cantidad"},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[r("b-form-input",{attrs:{placeholder:"Descuento"},model:{value:t.descuento,callback:function(e){t.descuento=e},expression:"descuento"}})],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[r("b-button",{on:{click:function(e){return t.abrirmodalproductos()}}},[r("b-icon",{attrs:{icon:"search"}})],1)],1),r("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[r("b-button",{attrs:{disabled:t.fileSizeValidation},on:{click:t.agregarproducto}},[r("b-icon",{attrs:{icon:"plus"}})],1)],1)],1),r("b-row")],1),r("b-row",[r("b-container",[r("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"cell(actions)",fn:function(e){return[r("b-button",{attrs:{size:"sm"},on:{click:function(r){return t.eliminar(e.item,e.index)}}},[r("b-icon",{attrs:{icon:"x"}})],1)]}}])})],1)],1)],1),r("modal-tabla-clientes",{ref:"modal",on:{avisar:t.clienteseleccionado}}),r("modal-tabla-productos",{ref:"modal_productos",on:{elegirproducto:t.productoseleccionado}})],1)},n=[],s=r("1da1"),o=(r("a434"),r("96cf"),r("711d")),c=r("709d"),i=r("c724"),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-modal",{ref:"modal_productos",attrs:{id:"modal_productos",name:"modal_productos",size:"lg",title:"Productos","ok-only":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){var a=e.close;return[r("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return a()}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]}}])},[r("b-container",{attrs:{fluid:""},scopedSlots:t._u([{key:"modal-footer",fn:function(){},proxy:!0}])},[r("b-row",[r("b-col",{staticStyle:{"margin-bottom":"30px","margin-top":"0px"},attrs:{lg:"6"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Escribe lo que quieras buscar"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Buscar")])],1)],1)],1)],1)],1),r("b-table",{attrs:{items:t.datos,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,stacked:"md","show-empty":"",small:"",id:"tabla-productos"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"cell(actions)",fn:function(e){return[r("b-button",{staticClass:"action",attrs:{id:"editarproducto",size:"sm"},on:{click:function(r){return t.seleccionarproducto(e.item)}}},[r("b-icon",{attrs:{icon:"hand-thumbs-up"}})],1)]}}])}),r("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},l=[],d=(r("d81d"),r("4de4"),r("416d")),p={name:"ModalTablaProductos",data:function(){return{objetoproducto:null,datos:[],producto_id:"0",totalRows:1,currentPage:1,perPage:10,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],display:!1,consulta:null,resultdelete:"",accion:"",fields:[{key:"codigo",label:"Codigo",sortable:!0,class:"text-center"},{key:"nombre",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"precio",label:"Precio",sortable:!0,class:"text-center"},{key:"tipo",label:"Tipo",sortable:!0,class:"text-center"},{key:"actions",label:"Elegir"}],infoModal:{id:"info-modal",title:"",content:""}}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},created:function(){this.getproductos()},mounted:function(){this.totalRows=this.datos.length},methods:{getproductos:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].getProductos();case 2:r=e.sent,t.datos=r,t.display=!0;case 5:case"end":return e.stop()}}),e)})))()},showModal:function(){this.$refs["modal_productos"].show()},hideModal:function(){this.$refs["modal_productos"].hide()},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},sendproducto:function(t){var e=t;return e},getproducto:function(t){return this.objetoproducto=Object.assign({},t),this.objetoproducto},seleccionarproducto:function(t){this.$emit("elegirproducto",this.getproducto(t)),this.hideModal()},cargar:function(){this.productos()}}},b=p,f=(r("fbf0"),r("2877")),h=Object(f["a"])(b,u,l,!1,null,null,null),m=h.exports,g={name:"nuevacuenta",components:{ModalTablaClientes:i["default"],ModalTablaProductos:m},data:function(){return{loading:!1,buscar_garante:"",buscar_solicitante:"",garante1:"",garante2:"",solicitante:null,cuotas:0,importe:0,total:0,subtotal:0,metodo:null,cliente:[],aux_dni_cliente:"",aux_cantidad:0,cantidad:0,anticipo:0,descuento:0,venc:"",fecha_venc:"",num_cuenta:0,disabled_solicitante:!1,productos:[],subtotales:[],descuentos:[],cantidades:[],metodos:["tarjeta","contado"],producto:{precio:0,nombre:"",codigo:0},fields:[{key:"codigo",label:"Codigo"},{key:"producto",label:"Producto"},{key:"cantidad",label:"Cantidad"},{key:"precio",label:"Precio"},{key:"descuento",label:"Descuento"},{key:"subtotal",label:"Subtotal"},{key:"actions",label:""}],items:[]}},mounted:function(){this.getnumcuenta()},computed:{fileSizeValidation:function(){var t=!0;return 0!=this.cantidad&&0!=this.producto.precio&&(t=!1),t},garante_disabled:function(){var t=!0;return""!=this.buscar_garante&&(t=!1),t},solicitante_disabled:function(){var t=!0;return""!=this.buscar_solicitante&&(t=!1),t},importecuotas:function(){var t=0;return this.total>0&&this.cuotas>0&&(t=this.total/parseInt(this.cuotas)),t},totaldesc:function(){var t=this.total;return this.descuento>=0&&this.descuento<=t&&this.anticipo>=0&&this.anticipo<=t&&(t=this.total-this.descuento-this.anticipo),t},vender_disabled:function(){var t=this.total,e=this.cuotas,r=!0;return 0!=t&&0!=e&&""!=this.cliente.dni&&""!=this.garante1&&0!=this.total&&this.productos.length>0&&""!=this.fecha_venc&&(r=!1),r}},methods:{eliminar_garante:function(t){1==t?this.garante1="":2==t&&(this.garante2="")},buscarCliente:function(t,e){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r.loading=!0,a.next=4,o["a"].getclientebyid(t,e);case 4:n=a.sent,console.log(t,e,n),n.data.length>0?(s=n.data[0],"garante"==e?""==r.garante1?r.garante1=s:""==r.garante2&&(r.garante2=s):r.cliente=s):(c=e+" no encontrado",r.$swal(c,"warning"),r.cliente=""),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),r.$swal(a.t0);case 12:return a.prev=12,r.loading=!1,r.buscar_garante="",r.buscar_solicitante="",a.finish(12);case 17:case"end":return a.stop()}}),a,null,[[0,9,12,17]])})))()},getnumcuenta:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getNumCuenta();case 2:r=e.sent,t.num_cuenta=r.num_cuenta;case 4:case"end":return e.stop()}}),e)})))()},abrirmodalclientes:function(){this.$refs.modal.showModal()},abrirmodalproductos:function(){this.$refs.modal_productos.showModal()},clienteseleccionado:function(t){this.cliente=t},productoseleccionado:function(t){this.producto=t},eliminar:function(t,e){for(var r=this.items,a=0;a<r.length;a++)if(r[a].producto==t.producto){var n=r[a].subtotal;this.items.splice(a,1),this.total=this.total-n;break}this.productos.splice(e,1),this.descuentos.splice(e,1),this.subtotales.splice(e,1),this.cantidades.splice(e,1)},reset:function(){this.producto.nombre="",this.producto.precio="",this.cantidad="",this.descuento=0},agregarproducto:function(){var t=this.cantidad,e=this.descuento;this.aux_cantidad=t;var r=this.producto.precio,a=parseFloat(t)*parseFloat(r)-e;this.subtotal=a;var n={codigo:this.producto.codigo,producto:this.producto.nombre,cantidad:t,precio:r,descuento:e,subtotal:a};this.productos.push(parseInt(this.producto.codigo)),this.subtotales.push(parseFloat(a)),this.descuentos.push(parseFloat(e)),this.cantidades.push(parseInt(t)),this.items.push(n),this.reset(),this.calculartotal()},calculartotal:function(){for(var t=this.items,e=0,r=0;r<t.length;r++){var a=e;e=a+parseFloat(t[r].subtotal)}this.total=e},verificar_fecha:function(){var t=new Date,e=new Date(this.fecha_venc),r=t.getMonth()+1,a=t.getDate(),n=t.getFullYear(),s=e.getMonth()+1,o=e.getDate()+1,c=e.getFullYear();console.log(s,o);var i=!1;return c>n?i=!0:c==n&&(i=s>=r&&o>a),i},vender:function(){var t={},e=this.verificar_fecha();1==e?(t={solicitante:this.cliente.dni,garante1:this.garante1.dni,garante2:this.garante2.dni,importe:this.total,anticipo:parseFloat(this.anticipo),metodo_pago:this.metodo,cant_cuotas:this.cuotas,importe_cuota:parseFloat(this.importecuotas),dia_venc:this.fecha_venc,num_cuenta:this.num_cuenta,productos:this.productos,cantidades:this.cantidades,descuentos:this.descuentos,subtotales:this.subtotales},this.agregarventa(t)):this.$swal("Fecha incorrecta","La fecha debes ser superior a hoy !","error")},agregarventa:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c["a"].addcuenta(t);case 3:a=r.sent,200==a.status&&(e.$swal("Exito","Nueva cuenta creada","success"),e.$router.push("/cuentas")),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),e.$swal("Ocurrio un error",String(r.t0),"error");case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}},v=g,k=Object(f["a"])(v,a,n,!1,null,null,null);e["default"]=k.exports},"6f11":function(t,e,r){"use strict";r("e528")},"709d":function(t,e,r){"use strict";var a=r("1da1"),n=r("d4ec"),s=r("bee2"),o=(r("96cf"),r("bb36")),c=r("49c2"),i="cuentas/",u=new c["a"],l=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,[{key:"getToken",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.getToken(),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getheaders",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:return e=t.sent,r={"Content-Type":"application/json",Authorization:"Bearer "+e.access},t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCuentas",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i+"lista",t.next=3,this.getheaders();case 3:return r=t.sent,t.next=6,o["a"].get(e,{headers:r});case 6:return a=t.sent,console.log(a.data),t.abrupt("return",a.data);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDetalleCuentas",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i+"detallescuenta",t.next=3,this.getheaders();case 3:return n=t.sent,s={numero_cuenta:e,dni_solicitante:r},t.next=7,o["a"].get(a,{params:s},{headers:n});case 7:return c=t.sent,t.abrupt("return",c.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"cuentasbycliente",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i+"reportescuentas",n={cliente:e,numero_cuenta:r},t.next=4,this.getheaders();case 4:return s=t.sent,t.next=7,o["a"].get(a,{params:n},{headers:s});case 7:return c=t.sent,t.abrupt("return",c.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"getNumCuenta",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i+"numerocuenta",t.next=3,this.getheaders();case 3:return r=t.sent,t.next=6,o["a"].get(e,{headers:r});case 6:return a=t.sent,t.abrupt("return",a.data);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addcuenta",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return r=t.sent,a=i+"registrarcuenta",t.next=6,o["a"].post(a,e,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updatecuenta",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,n=i+e+"/",t.next=6,o["a"].put(n,r,{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"deletecuenta",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i+e+"/",t.next=3,this.getheaders();case 3:return a=t.sent,t.next=6,o["a"].delete(r,{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"cuotascuenta",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i+"cuotascuenta",t.next=3,this.getheaders();case 3:return a=t.sent,n={num_cuenta:e},t.next=7,o["a"].get(r,{params:n},{headers:a});case 7:return s=t.sent,t.abrupt("return",s.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refinanciar_cuenta",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r,a){var n,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i+"refinanciarcuenta",t.next=3,this.getheaders();case 3:return s=t.sent,c={cuenta:e,cant_cuotas:r,fecha_venc:a},t.next=7,o["a"].post(n,c,{headers:s});case 7:return u=t.sent,t.abrupt("return",u.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,r,a){return t.apply(this,arguments)}return e}()},{key:"nuevopago",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i+"nuevopago",t.next=3,this.getheaders();case 3:return a=t.sent,t.next=6,o["a"].post(r,e,{headers:a});case 6:return n=t.sent,t.abrupt("return",n.data);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=new l},"711d":function(t,e,r){"use strict";var a=r("1da1"),n=r("d4ec"),s=r("bee2"),o=(r("96cf"),r("bb36")),c=r("49c2"),i="clientes/",u=new c["a"],l=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,[{key:"getToken",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.getToken(),console.log("tokeeeen",e),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getheaders",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:return e=t.sent,r={"Content-Type":"application/json",Authorization:"Bearer "+e.access},t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getClientes",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return e=t.sent,t.prev=3,t.next=6,o["a"].get(i,{headers:e});case 6:return r=t.sent,t.abrupt("return",r.data);case 10:t.prev=10,t.t0=t["catch"](3),console.log("error",t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"addcliente",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return r=t.sent,console.log("headerssss",e),t.next=6,o["a"].post(i,e,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updatecliente",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,n=i+e+"/",t.next=6,o["a"].put(n,r,{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"deletecliente",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i+e+"/",t.next=3,this.getheaders();case 3:return a=t.sent,t.next=6,o["a"].delete(r,{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getclientebyid",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,n={dni:e,tipo:r},t.next=6,o["a"].get(i,{params:n},{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"getcuentascliente",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return r=t.sent,a={dni:e},t.next=6,o["a"].get(i,{params:a},{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=new l},"7d81":function(t,e,r){},8418:function(t,e,r){"use strict";var a=r("c04e"),n=r("9bf2"),s=r("5c6c");t.exports=function(t,e,r){var o=a(e);o in t?n.f(t,o,s(0,r)):t[o]=r}},a434:function(t,e,r){"use strict";var a=r("23e7"),n=r("23cb"),s=r("a691"),o=r("50c4"),c=r("7b0b"),i=r("65f0"),u=r("8418"),l=r("1dde"),d=l("splice"),p=Math.max,b=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,a,l,d,m,g,v=c(this),k=o(v.length),w=n(t,k),x=arguments.length;if(0===x?r=a=0:1===x?(r=0,a=k-w):(r=x-2,a=b(p(s(e),0),k-w)),k+r-a>f)throw TypeError(h);for(l=i(v,a),d=0;d<a;d++)m=w+d,m in v&&u(l,d,v[m]);if(l.length=a,r<a){for(d=w;d<k-a;d++)m=d+a,g=d+r,m in v?v[g]=v[m]:delete v[g];for(d=k;d>k-a+r;d--)delete v[d-1]}else if(r>a)for(d=k-a;d>w;d--)m=d+a-1,g=d+r-1,m in v?v[g]=v[m]:delete v[g];for(d=0;d<r;d++)v[d+w]=arguments[d+2];return v.length=k-a+r,l}})},c724:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-modal",{ref:"modal",attrs:{id:"modal",name:"modal",size:"lg",title:"Clientes","ok-only":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){var a=e.close;return[r("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return a()}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]}}])},[r("b-container",{attrs:{fluid:""},scopedSlots:t._u([{key:"modal-footer",fn:function(){},proxy:!0}])},[r("b-row",[r("b-col",{staticStyle:{"margin-bottom":"30px","margin-top":"0px"},attrs:{lg:"6"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Escribe lo que quieras buscar"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Buscar")])],1)],1)],1)],1)],1),r("b-table",{attrs:{items:t.datos,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,stacked:"md","empty-text":"No hay clientes registrados","show-empty":"",small:"",id:"tabla-clientes"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"empty",fn:function(e){return[r("h6",[t._v(t._s(e.emptyText))])]}},{key:"cell(actions)",fn:function(e){return[r("b-button",{attrs:{size:"sm"},on:{click:function(r){return t.seleccionar(e.item)}}},[r("b-icon",{attrs:{icon:"hand-thumbs-up"}})],1)]}}])}),r("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},n=[],s=r("1da1"),o=(r("96cf"),r("d81d"),r("4de4"),r("711d")),c={name:"ModalTablaClientes",data:function(){return{objetocliente:null,datos:[],cliente_id:"0",totalRows:1,currentPage:1,perPage:10,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],display:!1,consulta:null,resultdelete:"",accion:"",fields:[{key:"apellido",label:"Apellido",sortable:!0,sortDirection:"desc"},{key:"nombre",label:"Nombre",sortable:!0,class:"text-center"},{key:"boleta_sueldo",label:"Boleta de sueldo",sortable:!0,class:"text-center"},{key:"dni",label:"DNI",sortable:!0,class:"text-center"},{key:"id",label:"ID",sortable:!0,class:"text-center"},{key:"sueldo",label:"Sueldo",sortable:!0,class:"text-center"},{key:"telefono",label:"Telefono",sortable:!0,class:"text-center"},{key:"actions",label:"Actions"}],infoModal:{id:"info-modal",title:"",content:""}}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},created:function(){this.getclientes()},mounted:function(){this.totalRows=this.datos.length},methods:{getclientes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getClientes();case 2:r=e.sent,t.datos=r,t.display=!0;case 5:case"end":return e.stop()}}),e)})))()},showModal:function(){this.$refs["modal"].show()},hideModal:function(){this.$refs["modal"].hide()},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},sendcliente:function(t){var e=t;return e},getcliente:function(t){return this.objetocliente=Object.assign({},t),this.objetocliente},seleccionar:function(t){this.$emit("avisar",this.getcliente(t)),this.hideModal()},cargar:function(){this.getclientes()}}},i=c,u=(r("6f11"),r("2877")),l=Object(u["a"])(i,a,n,!1,null,null,null);e["default"]=l.exports},e528:function(t,e,r){},fbf0:function(t,e,r){"use strict";r("7d81")}}]);
//# sourceMappingURL=chunk-0e723526.e81ef0f2.js.map