{"version":3,"sources":["webpack:///./src/apis/cuentas.js","webpack:///./src/components/clientes/cuentascliente.vue?0583","webpack:///./src/components/clientes/cuentascliente.vue?469d","webpack:///src/components/clientes/cuentascliente.vue","webpack:///./src/components/clientes/cuentascliente.vue?27b6","webpack:///./src/components/clientes/cuentascliente.vue?9704"],"names":["url","apiauth","APIAuth","APICuentas","token","getToken","this","headers","access","u","getheaders","api","get","cuentas","console","log","data","num_cuenta","solicitante","params","detalles","dni","numero_cuenta","cuenta","datos","post","id","cliente","url2","put","delete","numerocuenta","cantcuotas","fechavenc","response","nuevopago","render","_vm","_h","$createElement","_c","_self","attrs","_v","_s","nombrecliente","staticStyle","staticClass","model","value","callback","$$v","filter","expression","on","$event","pageOptions","perPage","fields","currentPage","filterOn","sortBy","sortDesc","sortDirection","onFiltered","scopedSlots","_u","key","fn","row","first","last","abrirmodal","getcuenta","item","deleteswal","detallecuenta","detallepagos","totalRows","staticRenderFns","dnicliente","nombre","mounted","getcuentas","methods","component"],"mappings":"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","file":"js/chunk-744bd8c1.fe932eee.js","sourcesContent":["import api from \"../axios\";\r\n\r\n\r\nimport {APIAuth} from \"./auth\";\r\n// CommonJS\r\n\r\nconst url='cuentas/'\r\nconst apiauth = new APIAuth()\r\n\r\n\r\nclass APICuentas{\r\n   \r\n\r\n    async getToken(){\r\n        const token = apiauth.getToken()\r\n        return token\r\n    }\r\n\r\n    async getheaders(){\r\n        const token = await this.getToken();\r\n        const headers={\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer \" + token.access,\r\n        }\r\n        return headers\r\n\r\n    }\r\n\r\n\r\n    async getCuentas(){\r\n        let u=url + 'lista'\r\n        const headers= await this.getheaders();\r\n        const cuentas =await api.get(u,{headers})\r\n        console.log(cuentas.data)\r\n        return cuentas.data;\r\n        \r\n     \r\n        \r\n    }\r\n    async getDetalleCuentas(num_cuenta,solicitante){\r\n        let u=url + 'detallescuenta'\r\n        const headers= await this.getheaders();\r\n        const params = {\r\n            'numero_cuenta':num_cuenta,\r\n            'dni_solicitante':solicitante,\r\n        }\r\n        const detalles =await api.get(u,{params},{headers})\r\n\r\n        return detalles.data;\r\n        \r\n     \r\n        \r\n    }\r\n    async detalleCuentaCliente(dni,numero_cuenta){\r\n        let u=url + 'detallecuentacliente'\r\n        let params = {'cliente':dni,'numero_cuenta':numero_cuenta}\r\n        const headers= await this.getheaders();\r\n        \r\n        const cuentas =await api.get(u,{params},{headers})\r\n        return cuentas.data;\r\n\r\n    }\r\n    async getNumCuenta(){\r\n        let u=url + 'numerocuenta'\r\n        const headers= await this.getheaders();\r\n        const cuenta =await api.get(u,{headers})\r\n        return cuenta.data;\r\n        \r\n     \r\n        \r\n    }\r\n\r\n    async addcuenta(datos){\r\n        const headers= await this.getheaders();\r\n        let u=url+ 'registrarcuenta'\r\n        return await api.post(u,datos,{headers})\r\n       \r\n    }\r\n    async updatecuenta(id,cliente){\r\n        const headers= await this.getheaders();\r\n        const url2=url + id + '/'\r\n \r\n        return await api.put(url2,cliente ,{headers})\r\n         \r\n    \r\n\r\n    }\r\n    async deletecuenta(id){\r\n        const url2=url +'lista' + id + '/'\r\n        const headers= await this.getheaders();\r\n        return await api.delete(url2,{headers})\r\n    }\r\n    async cuotascuenta(numerocuenta){\r\n        let u=url + 'cuotascuenta'\r\n        const headers= await this.getheaders();\r\n        let params = {'num_cuenta':numerocuenta}\r\n        const cuenta =await api.get(u,{params},{headers})\r\n        return cuenta.data;\r\n        \r\n\r\n    }\r\n    async refinanciar_cuenta(numerocuenta,cantcuotas,fechavenc){\r\n        let u=url + 'refinanciarcuenta'\r\n        const headers= await this.getheaders();\r\n        let datos = {'cuenta':numerocuenta,'cant_cuotas':cantcuotas,'fecha_venc':fechavenc}\r\n        const response =await api.post(u,datos,{headers})\r\n        return response.data;\r\n        \r\n\r\n    }\r\n    async nuevopago(datos){\r\n        let u=url + 'nuevopago'\r\n        const headers= await this.getheaders();\r\n        const nuevopago =await api.post(u,datos,{headers})\r\n        return nuevopago.data;\r\n\r\n    }\r\n}\r\n\r\nexport default new APICuentas();","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cuentascliente.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',{attrs:{\"align-h\":\"between\"}},[_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('h3',[_vm._v(\"Cuentas de \"+_vm._s(this.nombrecliente))])]),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-button',{staticStyle:{\"margin\":\"10px\"},attrs:{\"to\":\"clientes\"}},[_c('b-icon',{attrs:{\"icon\":\"arrow-left-circle-fill\"}})],1)],1)],1),_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Escribe lo que quieras buscar\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\"Buscar\")])],1)],1)],1)],1),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"5\",\"md\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Cuentas por pagina\",\"label-for\":\"per-page-select\",\"label-cols-sm\":\"6\",\"label-cols-md\":\"4\",\"label-cols-lg\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-form-select',{attrs:{\"id\":\"per-page-select\",\"options\":_vm.pageOptions,\"size\":\"sm\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)],1)],1),_c('b-table',{attrs:{\"items\":_vm.cuentas,\"fields\":_vm.fields,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filterOn,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"sort-direction\":_vm.sortDirection,\"stacked\":\"md\",\"empty-text\":\"Este cliente no tiene cuentas aun\",\"show-empty\":\"\",\"small\":\"\",\"id\":\"tabla-clientes\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(name)\",fn:function(row){return [_vm._v(\" \"+_vm._s(row.value.first)+\" \"+_vm._s(row.value.last)+\" \")]}},{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{staticClass:\"action\",attrs:{\"id\":\"editarcuenta\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.abrirmodal('modificar',_vm.getcuenta(row.item))}}},[_c('b-icon',{attrs:{\"icon\":\"tag-fill\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"editarcuenta\",\"triggers\":\"hover\"}},[_vm._v(\" Editar esta cuenta \")]),_c('b-button',{staticClass:\"action\",attrs:{\"id\":\"eliminarcuenta\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.deleteswal(row.item)}}},[_c('b-icon',{attrs:{\"icon\":\"trash-fill\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"eliminarcuenta\",\"triggers\":\"hover\"}},[_vm._v(\" Eliminar esta cuenta \")]),_c('b-button',{staticClass:\"action\",attrs:{\"id\":\"detallecuenta\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.detallecuenta(row.item)}}},[_c('b-icon',{attrs:{\"icon\":\"folder2\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"detallecuenta\",\"triggers\":\"hover\"}},[_vm._v(\" Detalle de esta cuenta \")]),_c('b-button',{staticClass:\"action\",attrs:{\"size\":\"sm\",\"id\":\"cuotaspagos\"},on:{\"click\":function($event){return _vm.detallepagos(row.item)}}},[_c('b-icon',{attrs:{\"icon\":\"wallet2\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"cuotaspagos\",\"triggers\":\"hover\"}},[_vm._v(\" Cuotas y pagos de esta cuenta \")])]}}])}),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"7\",\"md\":\"6\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"fill\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n\r\n  \r\n  <b-container fluid>\r\n\r\n<b-row align-h=\"between\">\r\n  <b-col cols=\"4\">   <h3>Cuentas de {{this.nombrecliente}}</h3></b-col>\r\n  <b-col cols=\"2\">  <b-button style=\"margin:10px;\" to=\"clientes\"><b-icon icon=\"arrow-left-circle-fill\"></b-icon></b-button></b-col>\r\n</b-row>\r\n    <!-- User Interface controls -->\r\n \r\n    <b-row>\r\n  \r\n      <b-col lg=\"6\" class=\"my-1\">\r\n        <b-form-group\r\n          label=\"\"\r\n          label-for=\"filter-input\"\r\n          label-cols-sm=\"3\"\r\n          label-align-sm=\"right\"\r\n          label-size=\"sm\"\r\n          class=\"mb-0\"\r\n        >\r\n          <b-input-group size=\"sm\">\r\n            <b-form-input\r\n              id=\"filter-input\"\r\n              v-model=\"filter\"\r\n              type=\"search\"\r\n              placeholder=\"Escribe lo que quieras buscar\"\r\n            ></b-form-input>\r\n\r\n            <b-input-group-append>\r\n              <b-button :disabled=\"!filter\" @click=\"filter = ''\">Buscar</b-button>\r\n            </b-input-group-append>\r\n          </b-input-group>\r\n        </b-form-group>\r\n      </b-col>\r\n\r\n      <b-col sm=\"5\" md=\"6\" class=\"my-1\">\r\n        <b-form-group\r\n          label=\"Cuentas por pagina\"\r\n          label-for=\"per-page-select\"\r\n          label-cols-sm=\"6\"\r\n          label-cols-md=\"4\"\r\n          label-cols-lg=\"3\"\r\n          label-align-sm=\"right\"\r\n          label-size=\"sm\"\r\n          class=\"mb-0\"\r\n        >\r\n          <b-form-select\r\n            id=\"per-page-select\"\r\n            v-model=\"perPage\"\r\n            :options=\"pageOptions\"\r\n            size=\"sm\"\r\n          ></b-form-select>\r\n        </b-form-group>\r\n      </b-col>\r\n\r\n \r\n    </b-row>\r\n    <b-table\r\n      :items=\"cuentas\"\r\n      :fields=\"fields\"\r\n      :current-page=\"currentPage\"\r\n      :per-page=\"perPage\"\r\n      :filter=\"filter\"\r\n      :filter-included-fields=\"filterOn\"\r\n      :sort-by.sync=\"sortBy\"\r\n      :sort-desc.sync=\"sortDesc\"\r\n      :sort-direction=\"sortDirection\"\r\n      stacked=\"md\"\r\n      empty-text=\"Este cliente no tiene cuentas aun\" show-empty\r\n      small\r\n      @filtered=\"onFiltered\"\r\n      id=\"tabla-clientes\"\r\n    >\r\n      <template #cell(name)=\"row\">\r\n        {{ row.value.first }} {{ row.value.last }}\r\n      </template>\r\n\r\n         <template #cell(actions)=\"row\">\r\n        <!-- <b-button size=\"sm\" @click=\"deletemodal(row.item, row.index, $event.target)\" class=\"mr-1\">\r\n         Eliminar\r\n        </b-button> -->\r\n   \r\n        <b-button id=\"editarcuenta\"  class=\"action\" size=\"sm\" @click=\"abrirmodal('modificar',getcuenta(row.item))\">    <b-icon icon=\"tag-fill\"></b-icon></b-button>\r\n            <b-tooltip target=\"editarcuenta\" triggers=\"hover\">\r\n                Editar esta cuenta\r\n              </b-tooltip>\r\n           <b-button  id=\"eliminarcuenta\" class=\"action\" size=\"sm\" @click=\"deleteswal(row.item)\">\r\n         <b-icon icon=\"trash-fill\"></b-icon>\r\n        </b-button>\r\n             <b-tooltip target=\"eliminarcuenta\" triggers=\"hover\">\r\n                Eliminar esta cuenta\r\n              </b-tooltip>\r\n\r\n\r\n        <b-button id=\"detallecuenta\" class=\"action\" size=\"sm\" @click=\"detallecuenta(row.item)\">    <b-icon icon=\"folder2\"></b-icon></b-button>\r\n         <b-tooltip target=\"detallecuenta\" triggers=\"hover\">\r\n                Detalle de esta cuenta\r\n              </b-tooltip>\r\n\r\n         <b-button class=\"action\" size=\"sm\" id=\"cuotaspagos\"  @click=\"detallepagos(row.item)\">    <b-icon icon=\"wallet2\"></b-icon></b-button>\r\n                 <b-tooltip target=\"cuotaspagos\" triggers=\"hover\">\r\n                Cuotas y pagos de esta cuenta\r\n              </b-tooltip>\r\n      </template>\r\n      <!-- <template #cell(actions)=\"row\">\r\n       <b-button size=\"sm\" @click=\"deletemodal(row.item, row.index, $event.target)\" class=\"mr-1\">\r\n         Eliminar\r\n        </b-button>\r\n\r\n      </template> -->\r\n\r\n  \r\n    </b-table>\r\n     <b-col sm=\"7\" md=\"6\" class=\"my-1\">\r\n        <b-pagination\r\n          v-model=\"currentPage\"\r\n          :total-rows=\"totalRows\"\r\n          :per-page=\"perPage\"\r\n          align=\"fill\"\r\n          size=\"sm\"\r\n          class=\"my-0\"\r\n        ></b-pagination>\r\n      </b-col>\r\n\r\n\r\n  </b-container>\r\n</div>\r\n \r\n</template>\r\n\r\n<script>\r\n\r\nimport APICuentas from '../../apis/cuentas'\r\n\r\n// import ModificarCliente from './modificar.vue'\r\n  export default {\r\n      name: 'CuentasCliente',\r\n      components: {\r\n        //   ModificarCliente,\r\n         \r\n      },\r\n    data() {\r\n      return {\r\n      \r\n        objetocliente:null,\r\n        datos: [],\r\n        cliente_id:'0',\r\n        totalRows: 1,\r\n        currentPage: 1,\r\n        perPage: 10,\r\n        cuentas: null,\r\n     \r\n        pageOptions: [5, 10, 15, { value: 100, text: \"Show a lot\" }],\r\n        sortBy: '',\r\n        sortDesc: false,\r\n        sortDirection: 'asc',\r\n        filter: null,\r\n        filterOn: [],\r\n        display:false,\r\n        consulta:null,\r\n        resultdelete:'',\r\n        dnicliente: '',\r\n        nombrecliente:'',\r\n        accion:'',\r\n        fields:[\r\n          { key: 'fecha', label: 'Fecha', sortable: true, class: 'text-center' },\r\n          { key: 'garante', label: 'Garante', sortable: true, sortDirection: 'desc' },\r\n       \r\n          { key: 'importe', label: 'Importe', sortable: true, class: 'text-center' },\r\n          { key: 'numero_cuenta', label: 'NÂ° cuenta', sortable: true, class: 'text-center' },\r\n          { key: 'anticipo', label: 'saldo', sortable: true, class: 'text-center' },\r\n \r\n          { key: 'metodo_pago', label: 'metodo_pago', sortable: true, class: 'text-center' },\r\n          { key: 'estado', label: 'estado', sortable: true, class: 'text-center' },\r\n          { key: 'actions', label: 'Acciones' }\r\n\r\n            ],\r\n        infoModal: {\r\n          id: 'info-modal',\r\n          title: '',\r\n          content: ''\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n    this.dnicliente=this.$route.query.dni\r\n\r\n    this.nombrecliente=this.$route.query.nombre\r\n    console.log(this.cliente.nombre)\r\n    },\r\n  mounted(){\r\n    this.getcuentas()\r\n    \r\n  },\r\n  methods:{\r\n    async getcuentas(){\r\n      console.log(this.dnicliente)\r\n      const datos= await APICuentas.cuentasbycliente(this.dnicliente,null)\r\n      console.log(datos)\r\n      this.cuentas = datos\r\n    },\r\n         onFiltered(filteredItems) {\r\n        // Trigger pagination to update the number of buttons/pages due to filtering\r\n        this.totalRows = filteredItems.length\r\n        this.currentPage = 1\r\n      },\r\n     detallepagos(cuenta){\r\n        console.log(cuenta.id)\r\n        this.$router.push({path :'/detallepagos',query:{num_cuenta:cuenta.numero_cuenta ,id_cuenta:cuenta.id}});\r\n      },\r\n       detallecuenta(cuenta){\r\n        \r\n        this.$router.push({path :'/detallecuenta',query:{num_cuenta:cuenta.numero_cuenta ,solicitante_dni:cuenta.solicitante_dni}});\r\n      },\r\n  }\r\n\r\n  }\r\n</script>\r\n\r\n<style>\r\n    .sr-only {display: none;}\r\n    .action{\r\n      margin: 3px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cuentascliente.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cuentascliente.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cuentascliente.vue?vue&type=template&id=3c01ea5e&\"\nimport script from \"./cuentascliente.vue?vue&type=script&lang=js&\"\nexport * from \"./cuentascliente.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cuentascliente.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}