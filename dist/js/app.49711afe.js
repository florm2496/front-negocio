(function(e){function t(t){for(var n,o,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,o=1;o<r.length;o++){var i=r[o];0!==a[i]&&(n=!1)}n&&(c.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a={app:0},c=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b10782c7","chunk-0e723526":"ad72206c","chunk-1fa1eb2c":"e3d9fac7","chunk-2086cb44":"52142ad6","chunk-33147a57":"c49de7e4","chunk-3743a77a":"18b33e36","chunk-2587cdb7":"63b5216c","chunk-da1503f6":"da1f78ad","chunk-482050f6":"a4f0fc1d","chunk-5af02b84":"c7fb7cb3","chunk-744bd8c1":"98e5ca88","chunk-8e3c6138":"40200b8e","chunk-b3f512be":"0a9b770d","chunk-f0ef3234":"584dd54e"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r={"chunk-0e723526":1,"chunk-1fa1eb2c":1,"chunk-2086cb44":1,"chunk-33147a57":1,"chunk-2587cdb7":1,"chunk-da1503f6":1,"chunk-482050f6":1,"chunk-744bd8c1":1,"chunk-8e3c6138":1,"chunk-b3f512be":1,"chunk-f0ef3234":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-0e723526":"8de94a80","chunk-1fa1eb2c":"c74f0774","chunk-2086cb44":"86bcecbe","chunk-33147a57":"374b328f","chunk-3743a77a":"31d6cfe0","chunk-2587cdb7":"b9679892","chunk-da1503f6":"af62c97e","chunk-482050f6":"374b328f","chunk-5af02b84":"31d6cfe0","chunk-744bd8c1":"5f3f72c1","chunk-8e3c6138":"2fb19db2","chunk-b3f512be":"5f3f72c1","chunk-f0ef3234":"5f3f72c1"}[e]+".css",a=s.p+n,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===n||l===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=n,delete o[e],p.parentNode.removeChild(p),r(c)},p.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){o[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var c=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,r[1](d)}a[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"09e0":function(e,t,r){},"1a64":function(e,t,r){"use strict";r("8082")},"2b56":function(e,t,r){"use strict";r("09e0")},"416d":function(e,t,r){"use strict";var n=r("1da1"),o=r("d4ec"),a=r("bee2"),c=(r("96cf"),r("bb36")),i=r("49c2"),s="productos/",u=new i["a"],l=function(){function e(){Object(o["a"])(this,e)}return Object(a["a"])(e,[{key:"getToken",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u.getToken(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getheaders",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:return t=e.sent,r={"Content-Type":"application/json",Authorization:"Bearer "+t.access},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getProductos",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return t=e.sent,r=s+"lista/",e.next=6,c["a"].get(r,{headers:t});case 6:return n=e.sent,e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"agregarProducto",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return r=e.sent,n=s+"altaproducto",e.next=6,c["a"].post(n,t,{headers:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"actualizarProducto",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return n=e.sent,o=s+"actualizarproducto/"+t,e.next=6,c["a"].put(o,r,{headers:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"bajaProducto",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s+"bajaproducto/"+t,e.next=3,this.getheaders();case 3:return n=e.sent,e.next=6,c["a"].delete(r,{headers:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"nuevosIngresos",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return r=e.sent,n=s+"nuevosingresos",e.next=6,c["a"].post(n,t,{headers:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getIngresos",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return t=e.sent,r=s+"nuevosingresos",e.next=6,c["a"].get(r,{headers:t});case 6:return n=e.sent,e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRubros",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return t=e.sent,r=s+"rubros/",e.next=6,c["a"].get(r,{headers:t});case 6:return n=e.sent,e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new l},"49c2":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("1da1"),o=r("d4ec"),a=r("bee2"),c=r("ade3"),i=(r("96cf"),r("ac1f"),r("1276"),r("d3b7"),r("25f0"),function(){function e(){Object(o["a"])(this,e),Object(c["a"])(this,"decodeToken",(function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}})),this.SERVER_URL="http://127.0.0.1:8000/",this.TOKEN_URL=this.SERVER_URL+"token/",this.REFRESH_URL=this.SERVER_URL+"refreshtoken/",this.credentials=""}return Object(a["a"])(e,[{key:"login",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.credentials={username:t,password:r},n=null,e.prev=2,e.next=5,fetch(this.TOKEN_URL,{method:"POST",body:JSON.stringify(this.credentials),mode:"cors",headers:{"Content-Type":"application/json"}});case 5:return o=e.sent,e.next=8,o.json();case 8:n=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),n={error:e.t0.toString()};case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("access"),r=localStorage.getItem("refresh"),n="",!this.tokenExpired(t)){e.next=8;break}return e.next=6,this.refreshToken(r);case 6:n=e.sent,null==n?(localStorage.removeItem("access"),localStorage.removeItem("refresh"),t=null):(t=n.access,localStorage.setItem("access",t));case 8:return null!=t&&null!=r||(window.location.href="login"),n={access:t,refresh:r},e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"tokenExpired",value:function(e){e=this.decodeToken(e),console.log(e,"decodificado");var t=!1;if(null!=e){var r=Date.now()/1e3;e.exp<r&&(t=!0)}else t=!0;return console.log(t,"expired"),t}},{key:"refreshToken",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={refresh:t},n=null,e.prev=2,e.next=5,fetch(this.REFRESH_URL,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json"}});case 5:return o=e.sent,e.next=8,o.json();case 8:n=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0.toString()),n=null;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}())},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},a=[],c={name:"App",components:{},data:function(){return{}},mounted:function(){}},i=c,s=(r("034f"),r("2877")),u=Object(s["a"])(i,o,a,!1,null,null,null),l=u.exports,d=r("bc3a"),p=r.n(d),f=r("2106"),b=r.n(f),h=r("5f5b"),m=r("b1e0"),g=(r("f9e3"),r("2dd8"),r("d3b7"),r("3ca3"),r("ddb0"),r("b0c0"),r("8c4f")),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dashboard"},[r("Sidebar"),r("div",{staticClass:"content"},[r("router-view")],1)],1)},k=[],w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sidebar"},[r("div",{staticClass:"menu-items"},[r("router-link",{staticClass:"side-btn",attrs:{to:"#","active-class":"active",tag:"button",exact:""}},[r("div",{staticClass:"link-container"},[e._v(" HOGAREÑA ")])]),r("router-link",{staticClass:"side-btn",attrs:{to:"/inicio","active-class":"active",tag:"button",exact:""}},[r("div",{staticClass:"link-container"},[e._v(" Panel de control ")])]),r("router-link",{staticClass:"side-btn",attrs:{to:"/clientes","active-class":"active",tag:"button",exact:""}},[r("div",{staticClass:"link-container"},[e._v(" Clientes ")])]),r("router-link",{staticClass:"side-btn",attrs:{to:"/cuentas","active-class":"active",tag:"button",exact:""}},[r("div",{staticClass:"link-container"},[e._v(" Cuentas ")])]),r("router-link",{staticClass:"side-btn",attrs:{to:"/productos","active-class":"active",tag:"button",exact:""}},[r("div",{staticClass:"link-container"},[e._v(" Productos ")])]),r("router-link",{staticClass:"side-btn",attrs:{to:"/utilidades","active-class":"active",tag:"button",exact:""}},[r("div",{staticClass:"link-container"},[e._v(" Utilidades ")])]),r("router-link",{staticClass:"side-btn",attrs:{to:"/login","active-class":"active",tag:"button",exact:""}},[r("div",{staticClass:"link-container"},[r("b-button",{on:{click:e.logout}},[e._v(" Salir ")])],1)])],1)])},x=[],y={name:"Sidebar",data:function(){return{usuario:""}},mounted:function(){this.usuario=localStorage.getItem("usuario")},methods:{logout:function(){localStorage.removeItem("usuario"),localStorage.removeItem("access"),localStorage.removeItem("refresh"),this.$router.push("/login")}}},_=y,R=(r("1a64"),Object(s["a"])(_,w,x,!1,null,"0b96bf4b",null)),S=R.exports,O={name:"Dashboard",components:{Sidebar:S}},j=O,C=(r("2b56"),Object(s["a"])(j,v,k,!1,null,null,null)),E=C.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"clientes"},[r("login")],1)},T=[],$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",{attrs:{"align-v":"center"}},[r("b-col",{attrs:{cols:"4"}}),r("b-col",[r("b-container",{staticClass:"container-login"},[r("b-col",[r("h5",[e._v("La Hogareña")])]),r("br"),r("b-form",{on:{reset:e.onReset}},[r("b-form-group",{attrs:{id:"input-group-username",label:"Nombre de usuario:","label-for":"input-username",description:""}},[r("b-form-input",{attrs:{id:"input-username",type:"text",placeholder:"Ingresa tu usuario",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("b-form-group",{attrs:{id:"input-group-password",label:"Contraseña:","label-for":"input-password",description:"No debes compartir tu contraseña con nadie"}},[r("b-form-input",{attrs:{id:"input-password",type:"password",placeholder:"Ingresa tu contraseña",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("b-button",{attrs:{id:"boton-ingresar"},on:{click:e.login}},[e._v("Ingresar")])],1)],1)],1)],1),r("b-col",{attrs:{cols:"4"}})],1)],1)},D=[],A=r("1da1"),I=(r("96cf"),r("49c2")),M={name:"Login",metaInfo:{title:"Hogareña"},data:function(){return{username:"",password:"",api:new I["a"],show:!0}},mounted:function(){},methods:{login:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.username,n=e.password,t.next=4,e.api.login(r,n);case 4:o=t.sent,console.log(o),"access"in o?(localStorage.setItem("access",o.access),localStorage.setItem("refresh",o.refresh),e.$router.push("/inicio"),localStorage.setItem("usuario",e.username)):"detail"in o?e.$swal("No se puede ingresar al sistema","Usuario o contraseña incorrectos","error"):e.$swal("No se puede ingresar al sistema","Ha ocurrido un error inesperado","error");case 7:case"end":return t.stop()}}),t)})))()},onReset:function(e){e.preventDefault(),this.username="",this.password=""}}},N=M,L=(r("9ce0"),Object(s["a"])(N,$,D,!1,null,null,null)),B=L.exports,U={name:"ViewLogin",components:{Login:B}},q=U,z=Object(s["a"])(q,P,T,!1,null,null,null),F=z.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"productos"},[r("tabla-productos")],1)},V=[],J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",{attrs:{fluid:""}},[r("modal-producto",{ref:"modal",on:{recargar:function(t){return e.cargar()}}}),r("b-button",{on:{click:function(t){return e.abrirmodal("crear",{})}}},[r("b-icon",{staticClass:"m-10",attrs:{icon:"plus-circle"}}),e._v("Nuevo")],1),r("b-row",[r("b-col",{staticStyle:{"margin-bottom":"30px","margin-top":"0px"},attrs:{lg:"6"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Escribe lo que quieras buscar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1)],1)],1),r("b-table",{attrs:{items:e.datos,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","empty-text":"No hay productos cargados","show-empty":"",small:"",id:"tabla-productos"},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(t.value.first)+" "+e._s(t.value.last)+" ")]}},{key:"empty",fn:function(t){return[r("h6",[e._v(e._s(t.emptyText))])]}},{key:"cell(actions)",fn:function(t){return[r("b-button",{staticClass:"action",attrs:{id:"editarproducto",size:"sm"},on:{click:function(r){e.abrirmodal("modificar",e.getproducto(t.item))}}},[r("b-icon",{attrs:{icon:"tag-fill"}})],1),r("b-tooltip",{attrs:{target:"editarproducto",triggers:"hover"}},[e._v(" Editar este producto ")]),r("b-button",{staticClass:"action",attrs:{id:"eliminarproducto",size:"sm"},on:{click:function(r){return e.deleteswal(t.item)}}},[r("b-icon",{attrs:{icon:"trash-fill"}})],1),r("b-tooltip",{attrs:{target:"Dar de baja este producto",triggers:"hover"}},[e._v(" Eliminar este producto ")])]}}])}),r("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)},K=[],G=(r("d81d"),r("4de4"),r("416d")),X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:this.titulo,"ok-title":"Guardar","cancel-title":"Cancelar"},on:{show:this.resetModal,hidden:this.resetModal,ok:this.handleOk},scopedSlots:e._u([{key:"modal-header",fn:function(t){var n=t.close;return[r("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return n()}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]}}])},[r("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),this.handleSubmit.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Nombre","label-for":"nombre_id","invalid-feedback":"Ingrese el nombre del producto",state:e.nombreState}},[r("b-form-input",{attrs:{id:"nombre_id",maxlength:"40",state:e.nombreState,required:"",type:"text"},model:{value:e.producto.nombre,callback:function(t){e.$set(e.producto,"nombre",t)},expression:"producto.nombre"}})],1),r("b-form-group",{attrs:{label:"Codigo","label-for":"codigo_id","invalid-feedback":"Debe ingresar el codigo",state:e.codigoState}},[r("b-form-input",{attrs:{id:"producto_id",maxlength:"10",state:e.codigoState,type:"text",required:""},model:{value:e.producto.codigo,callback:function(t){e.$set(e.producto,"codigo",t)},expression:"producto.codigo"}})],1),r("b-form-group",{attrs:{label:"Codigo de referencia","label-for":"codigo_ref_id","invalid-feedback":"Debe ingresar el codigo de referencia",state:e.codigoRefState}},[r("b-form-input",{attrs:{id:"codigo_ref_id",maxlength:"10",state:e.codigoRefState,type:"text",required:""},model:{value:e.producto.codigo_ref,callback:function(t){e.$set(e.producto,"codigo_ref",t)},expression:"producto.codigo_ref"}})],1),r("b-form-group",{attrs:{label:"Precio","label-for":"precio_id","invalid-feedback":"Debe ingresar el precio",state:e.precioState}},[r("b-form-input",{attrs:{id:"producto_id",state:e.precioState,type:"number",required:""},model:{value:e.producto.precio,callback:function(t){e.$set(e.producto,"precio",t)},expression:"producto.precio"}})],1),r("b-form-group",{attrs:{label:"Rubro","label-for":"tipo_id","invalid-feedback":"Debe ingresar el rubro",state:e.tipoState}},[r("v-select",{attrs:{label:"nombre",options:e.rubros},model:{value:e.producto.rubro,callback:function(t){e.$set(e.producto,"rubro",t)},expression:"producto.rubro"}})],1),r("br"),r("b-alert",{attrs:{variant:"warning",show:e.alert}},[e._v("Complete todos los campos")])],1)])],1)},Y=[],Q={name:"ModalProducto",data:function(){return{producto:{nombre:"",codigo:"",precio:"",tipo:"",stock:"",estado:!0},rubros:"",titulo:"",elect:"hola",codigo_producto:0,nombreState:null,precioState:null,tipoState:null,codigoState:null,response:null,alert:!1,accion:"",estado_producto:!0}},mounted:function(){this.estado_producto=!0,this.getRubrosProductos()},methods:{getRubrosProductos:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G["a"].getRubros();case 2:r=t.sent,e.rubros=r;case 4:case"end":return t.stop()}}),t)})))()},checkFormValidity:function(){var e=this.$refs.form.checkValidity();return 0==e&&(this.alert=!0),e},resetModal:function(){this.producto.nombre="",this.nombreState=null,this.producto.precio="",this.precioState=null,this.producto.codigo="",this.codigoState=null,this.codigoRefState=null,this.producto.codigo_ref="",this.producto.tipo=null,this.tipoState=null,this.alert=!1},handleOk:function(e){e.preventDefault(),this.handleSubmit()},cerrarModal:function(){this.$bvModal.hide("modal-prevent-closing")},handleSubmit:function(){this.checkFormValidity()&&("crear"==this.accion?(console.log("lalma crear"),this.crearproducto()):"modificar"==this.accion&&this.modificarproducto(),this.$nextTick((function(){})))},recargartabla:function(){this.$emit("avisar")},showModal:function(e,t){this.$refs["modal"].show(),"modificar"==e?(this.producto=t,this.codigo_producto=t.codigo,this.titulo="Modificar producto"):"crear"==e&&(this.producto={},this.titulo="Nuevo producto"),this.accion=e},crearproducto:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={nombre:e.producto.nombre,precio:parseFloat(e.producto.precio),rubro:parseInt(e.producto.rubro.id),codigo:e.producto.codigo,codigo_ref:e.producto.codigo_ref},t.prev=1,t.next=4,G["a"].agregarProducto(r);case 4:n=t.sent,200==n.status&&(e.$swal("En buena hora!","Un nuevo producto fue agregado","success"),e.cerrarModal(),e.$emit("recargar")),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$swal("Ups!","Probablemente ya exista un producto con ese codigo","warning"),e.cerrarModal();case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},modificarproducto:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("antes",e.producto),r={nombre:e.producto.nombre,precio:e.producto.precio,codigo:e.producto.codigo,codigo_ref:e.producto.codigo_ref,rubro:e.producto.rubro.id},console.log("datos ppr modificar",r),t.prev=3,t.next=6,G["a"].actualizarProducto(e.codigo_producto,r);case 6:n=t.sent,console.log(n),200==n.status&&(e.$swal("Bien hecho","El producto fue modificado con exito","success"),e.cerrarModal(),e.$emit("recargar")),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),e.$swal("Ups! Algo salio mal","Probablemente ya exista un producto con ese codigo .","warning");case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}},W=Q,Z=Object(s["a"])(W,X,Y,!1,null,null,null),ee=Z.exports,te={name:"TablaProductos",components:{ModalProducto:ee},data:function(){return{objetoproducto:null,datos:[],producto_id:"0",totalRows:1,currentPage:1,perPage:10,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],display:!1,consulta:null,resultdelete:"",accion:"",fields:[{key:"id",label:"ID",sortable:!0,sortDirection:"desc"},{key:"nombre",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"codigo",label:"Codigo",sortable:!0,class:"text-center"},{key:"codigo_ref",label:"Codigo de ref",sortable:!0,class:"text-center"},{key:"precio",label:"Precio",sortable:!0,class:"text-center"},{key:"rubro.nombre",label:"Rubro",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones"}],infoModal:{id:"info-modal",title:"",content:""}}},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},created:function(){this.getproductos()},mounted:function(){this.totalRows=this.datos.length},methods:{getproductos:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G["a"].getProductos();case 2:r=t.sent,e.datos=r,e.display=!0;case 5:case"end":return t.stop()}}),t)})))()},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},sendproducto:function(e){var t=e;return t},getproducto:function(e){return this.objetoproducto=Object.assign({},e),this.objetoproducto},cargar:function(){this.getproductos()},abrirmodal:function(e,t){this.$refs.modal.showModal(e,t)},bajaProducto:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,G["a"].bajaProducto(e.codigo);case 3:n=r.sent,o=e.nombre+"  con codigo  "+e.codigo,200==n.status&&t.$swal("EXITO!",o.toUpperCase()+"HA SIDO DADO DE BAJA","success"),t.cargar(),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),t.$swal("ERROR ! MUESTRE ESTA VENTANA AL DESARROLLADOR",r.t0,"error");case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},confirmswal:function(e,t){return this.$swal({title:e.toUpperCase(),text:t,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"SI, DAR DE BAJA ",cancelButtonText:"CANCELAR"})},deleteswal:function(e){var t=this,r=e.nombre+"  con codigo  "+e.codigo,n="Seguro quieres dar de baja este producto?.Ya no podras verlo en la lista ni usarlo en otras funciones";this.confirmswal(r,n).then((function(r){r.isConfirmed&&t.bajaProducto(e)}))}}},re=te,ne=(r("b91c"),Object(s["a"])(re,J,K,!1,null,null,null)),oe=ne.exports,ae={name:"Productos",components:{TablaProductos:oe}},ce=ae,ie=Object(s["a"])(ce,H,V,!1,null,null,null),se=ie.exports;n["default"].use(g["a"]);var ue=[{path:"/",name:"dashboard",component:E,children:[{path:"clientes",component:function(){return Promise.all([r.e("chunk-3743a77a"),r.e("chunk-2587cdb7")]).then(r.bind(null,"991a"))}},{path:"inicio",name:"inicio",component:function(){return r.e("chunk-1fa1eb2c").then(r.bind(null,"bb51"))}},{path:"editarcliente",name:"editarcliente",component:function(){return Promise.all([r.e("chunk-3743a77a"),r.e("chunk-da1503f6")]).then(r.bind(null,"3a1c"))}},{path:"cuentascliente",component:function(){return r.e("chunk-744bd8c1").then(r.bind(null,"cea5"))},name:"cuentascliente"},{path:"cuentas",component:function(){return r.e("chunk-f0ef3234").then(r.bind(null,"8c8e"))}},{path:"nuevacuenta",name:"nuevacuenta",component:function(){return r.e("chunk-0e723526").then(r.bind(null,"619b"))}},{path:"productos",component:se},{path:"modalcuentas",component:function(){return r.e("chunk-482050f6").then(r.bind(null,"c724"))}},{path:"detallecuenta",component:function(){return r.e("chunk-2086cb44").then(r.bind(null,"efe6"))}},{path:"detallepagos",component:function(){return r.e("chunk-8e3c6138").then(r.bind(null,"05d4"))}},{path:"ingresos",component:function(){return r.e("chunk-b3f512be").then(r.bind(null,"e974"))}},{path:"nuevosingresos",name:"nuevosingresos",component:function(){return r.e("chunk-33147a57").then(r.bind(null,"0977"))}},{path:"utilidades",name:"utilidades",component:function(){return r.e("chunk-5af02b84").then(r.bind(null,"7e33"))}}]},{path:"/login",name:"login",component:F},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],le=new g["a"]({mode:"history",base:"/",routes:ue});le.beforeEach((function(e,t,r){var n=null!=localStorage.getItem("access");console.log(t.name,e.name),"login"==e.name||n?r():r({name:"login"})}));var de=le,pe=r("f9d5"),fe=r.n(pe),be=(r("4413"),r("8993"),r("8b40")),he=r.n(be),me=(r("6dfc"),r("4a7a")),ge=r.n(me),ve=r("58ca");n["default"].use(ve["a"]),n["default"].config.productionTip=!1,n["default"].use(h["a"]),n["default"].use(he.a),n["default"].use(m["a"]),n["default"].use(b.a,p.a),n["default"].use(r("2ead")),n["default"].component("v-select",ge.a),n["default"].use(fe.a),new n["default"]({router:de,render:function(e){return e(l)}}).$mount("#app")},8082:function(e,t,r){},"85ec":function(e,t,r){},"9ce0":function(e,t,r){"use strict";r("d64c")},b91c:function(e,t,r){"use strict";r("d20a")},bb36:function(e,t,r){"use strict";var n=r("bc3a"),o=r.n(n),a="http://127.0.0.1:8000/";t["a"]=o.a.create({baseURL:a,headers:{"Content-type":"application/json"}})},d20a:function(e,t,r){},d64c:function(e,t,r){}});
//# sourceMappingURL=app.49711afe.js.map