(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e723526","chunk-482050f6"],{"619b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{staticClass:"bv-example-row bv-example-row-flex-cols",attrs:{fluid:"xl"}},[a("b-row",[a("b-row",[a("b-col",{attrs:{cols:"6"}}),a("b-col",{attrs:{cols:"6"}},[a("b-row")],1)],1),a("b-col"),a("b-col",[a("label",{attrs:{for:""}},[a("h4",[t._v("Datos del cliente")])]),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-button",{on:{click:function(e){return t.abrirmodalclientes()}}},[a("b-icon",{attrs:{icon:"list"}})],1)],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"8"}},[a("b-form-input",{attrs:{placeholder:"Solicitante por nombre completo o dni"},model:{value:t.buscar_solicitante,callback:function(e){t.buscar_solicitante=e},expression:"buscar_solicitante"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-button",{attrs:{disabled:t.solicitante_disabled},on:{click:function(e){return t.buscarCliente(t.buscar_solicitante,"solicitante")}}},[a("b-icon",{attrs:{icon:"search"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("DNI")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cliente.dni,callback:function(e){t.$set(t.cliente,"dni",e)},expression:"cliente.dni"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Nombre")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cliente.nombre,callback:function(e){t.$set(t.cliente,"nombre",e)},expression:"cliente.nombre"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Apellido")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cliente.apellido,callback:function(e){t.$set(t.cliente,"apellido",e)},expression:"cliente.apellido"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[t._v("Telefono"),a("label",{attrs:{for:"Telefono"}})]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cliente.telefono,callback:function(e){t.$set(t.cliente,"telefono",e)},expression:"cliente.telefono"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Garantes")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"8"}},[a("b-form-input",{attrs:{placeholder:"Garante por nombre completo o dni"},model:{value:t.buscar_garante,callback:function(e){t.buscar_garante=e},expression:"buscar_garante"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-button",{attrs:{disabled:t.garante_disabled},on:{click:function(e){return t.buscarCliente(t.buscar_garante,"garante")}}},[a("b-icon",{attrs:{icon:"search"}})],1)],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[a("label",{attrs:{for:""}},[t._v("DNI")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante1.dni,callback:function(e){t.$set(t.garante1,"dni",e)},expression:"garante1.dni"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Apellido")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante1.apellido,callback:function(e){t.$set(t.garante1,"apellido",e)},expression:"garante1.apellido"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-button",{on:{click:function(e){return t.eliminar_garante("1")}}},[t._v("X")])],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[a("label",{attrs:{for:""}},[t._v("DNI")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante2.dni,callback:function(e){t.$set(t.garante2,"dni",e)},expression:"garante2.dni"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Apellido")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante2.apellido,callback:function(e){t.$set(t.garante2,"apellido",e)},expression:"garante2.apellido"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-button",{on:{click:function(e){return t.eliminar_garante("2")}}},[t._v("X")])],1)],1)],1),a("b-col",[a("b-container",{staticStyle:{margin:"15px"}},[a("b-row",[a("b-row",[a("b-col",{attrs:{cols:"6"}}),a("b-col",{attrs:{cols:"4"}}),a("b-col",{attrs:{cols:"2"}},[a("b-button",{staticStyle:{margin:"10px"},attrs:{to:"cuentas"}},[a("b-icon",{attrs:{icon:"arrow-left-circle-fill"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("NÂ°c")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.num_cuenta,callback:function(e){t.num_cuenta=e},expression:"num_cuenta"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Total")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.totaldesc,callback:function(e){t.totaldesc=e},expression:"totaldesc"}})],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Cuotas")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("b-form-input",{attrs:{disabled:0==t.total,placeholder:"Ingrese la cantidad de cuotas",required:""},model:{value:t.cuotas,callback:function(e){t.cuotas=e},expression:"cuotas"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Importe")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.importecuotas,callback:function(e){t.importecuotas=e},expression:"importecuotas"}})],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Anticipo")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("b-form-input",{model:{value:t.anticipo,callback:function(e){t.anticipo=e},expression:"anticipo"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Descuento")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{model:{value:t.descuento,callback:function(e){t.descuento=e},expression:"descuento"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"6"}},[a("label",{attrs:{for:""}},[t._v("Metodo de pago")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"6"}},[a("v-select",{attrs:{id:"metodo_id",options:t.metodos},model:{value:t.metodo,callback:function(e){t.metodo=e},expression:"metodo"}})],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"6"}},[a("label",{attrs:{for:""}},[t._v("Fecha de vencimiento")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"6"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker",locale:"es",placeholder:"Seleccione fecha","label-help":""},model:{value:t.fecha_venc,callback:function(e){t.fecha_venc=e},expression:"fecha_venc"}})],1)],1)],1)],1),a("b-row"),a("b-row",[a("b-col"),a("b-col",{attrs:{cols:"auto"}},[a("b-button",{attrs:{disabled:t.vender_disabled},on:{click:function(e){return t.vender()}}},[a("b-icon",{attrs:{icon:"cart-check"}}),t._v(" Vender")],1)],1),a("b-col")],1)],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"10"}},[a("label",{attrs:{for:""}},[a("h4",[t._v("Detalles de productos")])])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}})]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Producto")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Precio")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Cantidad")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Descuento")])]),a("b-row",[a("b-col",{staticClass:"mr-auto mb-auto p-3",attrs:{cols:"2"}},[a("b-form-input",{attrs:{placeholder:"Producto"},model:{value:t.producto.nombre,callback:function(e){t.$set(t.producto,"nombre",e)},expression:"producto.nombre"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-form-input",{attrs:{placeholder:"Precio",disabled:""},model:{value:t.producto.precio,callback:function(e){t.$set(t.producto,"precio",e)},expression:"producto.precio"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-form-input",{attrs:{placeholder:"Cantidad"},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("b-form-input",{attrs:{placeholder:"Descuento"},model:{value:t.descuento,callback:function(e){t.descuento=e},expression:"descuento"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[a("b-button",{on:{click:function(e){return t.abrirmodalproductos()}}},[a("b-icon",{attrs:{icon:"search"}})],1)],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"1"}},[a("b-button",{attrs:{disabled:t.fileSizeValidation},on:{click:t.agregarproducto}},[a("b-icon",{attrs:{icon:"plus"}})],1)],1)],1),a("b-row")],1),a("b-row",[a("b-container",[a("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(a){return t.eliminar(e.item,e.index)}}},[a("b-icon",{attrs:{icon:"x"}})],1)]}}])})],1)],1)],1),a("modal-tabla-clientes",{ref:"modal",on:{avisar:t.clienteseleccionado}}),a("modal-tabla-productos",{ref:"modal_productos",on:{elegirproducto:t.productoseleccionado}})],1)},n=[],s=a("1da1"),o=(a("a434"),a("96cf"),a("711d")),c=a("709d"),i=a("c724"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{ref:"modal_productos",attrs:{id:"modal_productos",name:"modal_productos",size:"lg",title:"Productos","ok-only":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){var r=e.close;return[a("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return r()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã")])])]}}])},[a("b-container",{attrs:{fluid:""},scopedSlots:t._u([{key:"modal-footer",fn:function(){},proxy:!0}])},[a("b-row",[a("b-col",{staticStyle:{"margin-bottom":"30px","margin-top":"0px"},attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Escribe lo que quieras buscar"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Buscar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{items:t.datos,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,stacked:"md","show-empty":"",small:"",id:"tabla-productos"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"action",attrs:{id:"editarproducto",size:"sm"},on:{click:function(a){return t.seleccionarproducto(e.item)}}},[a("b-icon",{attrs:{icon:"hand-thumbs-up"}})],1)]}}])}),a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},u=[],d=(a("d81d"),a("4de4"),a("416d")),p={name:"ModalTablaProductos",data:function(){return{objetoproducto:null,datos:[],producto_id:"0",totalRows:1,currentPage:1,perPage:10,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],display:!1,consulta:null,resultdelete:"",accion:"",fields:[{key:"codigo",label:"Codigo",sortable:!0,class:"text-center"},{key:"nombre",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"precio",label:"Precio",sortable:!0,class:"text-center"},{key:"actions",label:"Elegir"}],infoModal:{id:"info-modal",title:"",content:""}}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},created:function(){this.getproductos()},mounted:function(){this.totalRows=this.datos.length},methods:{getproductos:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].getProductos();case 2:a=e.sent,t.datos=a,t.display=!0;case 5:case"end":return e.stop()}}),e)})))()},showModal:function(){this.$refs["modal_productos"].show()},hideModal:function(){this.$refs["modal_productos"].hide()},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},sendproducto:function(t){var e=t;return e},getproducto:function(t){return this.objetoproducto=Object.assign({},t),this.objetoproducto},seleccionarproducto:function(t){this.$emit("elegirproducto",this.getproducto(t)),this.hideModal()},cargar:function(){this.productos()}}},b=p,f=(a("fbf0"),a("2877")),h=Object(f["a"])(b,l,u,!1,null,null,null),m=h.exports,g={name:"nuevacuenta",components:{ModalTablaClientes:i["default"],ModalTablaProductos:m},data:function(){return{loading:!1,buscar_garante:"",buscar_solicitante:"",garante1:"",garante2:"",solicitante:null,cuotas:0,importe:0,total:0,subtotal:0,metodo:null,cliente:[],aux_dni_cliente:"",aux_cantidad:0,cantidad:0,anticipo:0,descuento:0,venc:"",fecha_venc:"",num_cuenta:0,disabled_solicitante:!1,productos:[],subtotales:[],descuentos:[],cantidades:[],metodos:["tarjeta","contado"],producto:{precio:0,nombre:"",codigo:0},fields:[{key:"codigo",label:"Codigo"},{key:"producto",label:"Producto"},{key:"cantidad",label:"Cantidad"},{key:"precio",label:"Precio"},{key:"descuento",label:"Descuento"},{key:"subtotal",label:"Subtotal"},{key:"actions",label:""}],items:[]}},mounted:function(){this.getnumcuenta()},watch:{total:function(t){console.log("detecta cambios",t)}},computed:{fileSizeValidation:function(){var t=!0;return 0!=this.cantidad&&0!=this.producto.precio&&(t=!1),t},garante_disabled:function(){var t=!0;return""!=this.buscar_garante&&(t=!1),t},solicitante_disabled:function(){var t=!0;return""!=this.buscar_solicitante&&(t=!1),t},totaldesc:function(){var t=this.total;return this.descuento>=0&&this.descuento<=t&&this.anticipo>=0&&this.anticipo<=t&&(t=this.total-this.descuento-this.anticipo),t},importecuotas:function(){var t=0;return this.total>0&&this.cuotas>0&&(t=(this.total-this.anticipo-this.descuento)/parseInt(this.cuotas)),t},vender_disabled:function(){var t=this.total,e=this.cuotas,a=!0;return 0!=t&&0!=e&&""!=this.cliente.dni&&""!=this.garante1&&0!=this.total&&this.productos.length>0&&""!=this.fecha_venc&&(a=!1),a}},methods:{eliminar_garante:function(t){1==t?this.garante1="":2==t&&(this.garante2="")},buscarCliente:function(t,e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a.loading=!0,r.next=4,o["a"].getClienteCuenta(t);case 4:n=r.sent,n.data.length>0?(s=n.data[0],"garante"==e?""==a.garante1?a.garante1=s:""==a.garante2&&(a.garante2=s):a.cliente=s):(c="Cliente no encontrado",a.$swal(c,"Buscar por nombre completo ,por apellido o dni","warning"),a.cliente=""),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),a.$swal(r.t0);case 11:return r.prev=11,a.loading=!1,a.buscar_garante="",a.buscar_solicitante="",r.finish(11);case 16:case"end":return r.stop()}}),r,null,[[0,8,11,16]])})))()},getnumcuenta:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getNumCuenta();case 2:a=e.sent,t.num_cuenta=a.num_cuenta;case 4:case"end":return e.stop()}}),e)})))()},abrirmodalclientes:function(){this.$refs.modal.showModal()},abrirmodalproductos:function(){this.$refs.modal_productos.showModal()},clienteseleccionado:function(t){this.cliente=t},productoseleccionado:function(t){this.producto=t},eliminar:function(t,e){for(var a=this.items,r=0;r<a.length;r++)if(a[r].producto==t.producto){var n=a[r].subtotal;this.items.splice(r,1),this.total=this.total-n;break}this.productos.splice(e,1),this.descuentos.splice(e,1),this.subtotales.splice(e,1),this.cantidades.splice(e,1)},reset:function(){this.producto.nombre="",this.producto.precio="",this.cantidad="",this.descuento=0},agregarproducto:function(){var t=this.cantidad,e=this.descuento;this.aux_cantidad=t;var a=this.producto.precio,r=parseFloat(t)*parseFloat(a)-e;this.subtotal=r;var n={codigo:this.producto.codigo,producto:this.producto.nombre,cantidad:t,precio:a,descuento:e,subtotal:r};this.productos.push(parseInt(this.producto.codigo)),this.subtotales.push(parseFloat(r)),this.descuentos.push(parseFloat(e)),this.cantidades.push(parseInt(t)),this.items.push(n),this.reset(),this.calculartotal()},calculartotal:function(){for(var t=this.items,e=0,a=0;a<t.length;a++){var r=e;e=r+parseFloat(t[a].subtotal)}this.total=e},verificar_fecha:function(){var t=new Date,e=new Date(this.fecha_venc),a=t.getMonth()+1,r=t.getDate(),n=t.getFullYear(),s=e.getMonth()+1,o=e.getDate()+1,c=e.getFullYear();console.log(s,o);var i=!1;return c>n?i=!0:c==n&&(i=s>=a&&o>r),i},vender:function(){var t={},e=this.verificar_fecha();console.log(this.totaldesc),console.log(this.anticipo),1==e?(t={solicitante:this.cliente.dni,garante1:this.garante1.dni,garante2:this.garante2.dni,importe:this.totaldesc,anticipo:this.anticipo,descuento:this.descuento,metodo_pago:this.metodo,cant_cuotas:this.cuotas,importe_cuota:parseFloat(this.importecuotas),dia_venc:this.fecha_venc,num_cuenta:this.num_cuenta,productos:this.productos,cantidades:this.cantidades,descuentos:this.descuentos,subtotales:this.subtotales},this.agregarventa(t)):this.$swal("Fecha incorrecta","La fecha debes ser superior a hoy !","error")},agregarventa:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c["a"].addcuenta(t);case 3:r=a.sent,200==r.status&&(e.$swal("Exito","Nueva cuenta creada","success"),e.$router.push("/cuentas")),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),e.$swal("Ocurrio un error",String(a.t0),"error");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()}}},v=g,w=Object(f["a"])(v,r,n,!1,null,null,null);e["default"]=w.exports},"6f11":function(t,e,a){"use strict";a("e528")},"709d":function(t,e,a){"use strict";var r=a("1da1"),n=a("d4ec"),s=a("bee2"),o=(a("96cf"),a("bb36")),c=a("49c2"),i="cuentas/",l=new c["a"],u=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,[{key:"getToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=l.getToken(),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getheaders",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:return e=t.sent,a={"Content-Type":"application/json",Authorization:"Bearer "+e.access},t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCuentas",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i+"lista",t.next=3,this.getheaders();case 3:return a=t.sent,t.next=6,o["a"].get(e,{headers:a});case 6:return r=t.sent,console.log(r.data),t.abrupt("return",r.data);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDetalleCuentas",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i+"detallescuenta",t.next=3,this.getheaders();case 3:return n=t.sent,s={numero_cuenta:e,dni_solicitante:a},t.next=7,o["a"].get(r,{params:s},{headers:n});case 7:return c=t.sent,t.abrupt("return",c.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"detalleCuentaCliente",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i+"detallecuentacliente",n={cliente:e,numero_cuenta:a},t.next=4,this.getheaders();case 4:return s=t.sent,t.next=7,o["a"].get(r,{params:n},{headers:s});case 7:return c=t.sent,t.abrupt("return",c.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getNumCuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i+"numerocuenta",t.next=3,this.getheaders();case 3:return a=t.sent,t.next=6,o["a"].get(e,{headers:a});case 6:return r=t.sent,t.abrupt("return",r.data);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addcuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,r=i+"registrarcuenta",t.next=6,o["a"].post(r,e,{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updatecuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return r=t.sent,n=i+e+"/",t.next=6,o["a"].put(n,a,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"deletecuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i+"lista"+e+"/",t.next=3,this.getheaders();case 3:return r=t.sent,t.next=6,o["a"].delete(a,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"cuotascuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i+"cuotascuenta",t.next=3,this.getheaders();case 3:return r=t.sent,n={num_cuenta:e},t.next=7,o["a"].get(a,{params:n},{headers:r});case 7:return s=t.sent,t.abrupt("return",s.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refinanciar_cuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a,r){var n,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i+"refinanciarcuenta",t.next=3,this.getheaders();case 3:return s=t.sent,c={cuenta:e,cant_cuotas:a,fecha_venc:r},t.next=7,o["a"].post(n,c,{headers:s});case 7:return l=t.sent,t.abrupt("return",l.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,a,r){return t.apply(this,arguments)}return e}()},{key:"nuevopago",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i+"nuevopago",t.next=3,this.getheaders();case 3:return r=t.sent,t.next=6,o["a"].post(a,e,{headers:r});case 6:return n=t.sent,t.abrupt("return",n.data);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=new u},"711d":function(t,e,a){"use strict";var r=a("1da1"),n=a("d4ec"),s=a("bee2"),o=(a("96cf"),a("bb36")),c=a("49c2"),i="clientes/",l=new c["a"],u=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,[{key:"getToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=l.getToken(),console.log("tokeeeen",e),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getheaders",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:return e=t.sent,a={"Content-Type":"application/json",Authorization:"Bearer "+e.access},t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getClientes",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return e=t.sent,a=i+"viewset/",t.prev=4,t.next=7,o["a"].get(a,{headers:e});case 7:return r=t.sent,t.abrupt("return",r.data);case 11:t.prev=11,t.t0=t["catch"](4),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getClienteById",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,r=i+"viewset/"+e+"/",t.prev=4,t.next=7,o["a"].get(r,{headers:a});case 7:return n=t.sent,t.abrupt("return",n.data);case 11:t.prev=11,t.t0=t["catch"](4),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addcliente",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,r=i+"viewset/",t.next=6,o["a"].post(r,e,{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updateCliente",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return r=t.sent,n=i+"viewset/"+e+"/",t.next=6,o["a"].put(n,a,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"deletecliente",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i+"bajacliente/",t.next=3,this.getheaders();case 3:return r=t.sent,t.next=6,o["a"].post(a,e,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getClienteCuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i+"getclientecuenta/",t.next=3,this.getheaders();case 3:return r=t.sent,n={busqueda:e},t.next=7,o["a"].get(a,{params:n},{headers:r});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getcuentascliente",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,r={dni:e},t.next=6,o["a"].get(i,{params:r},{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=new u},"7d81":function(t,e,a){},8418:function(t,e,a){"use strict";var r=a("c04e"),n=a("9bf2"),s=a("5c6c");t.exports=function(t,e,a){var o=r(e);o in t?n.f(t,o,s(0,a)):t[o]=a}},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),s=a("a691"),o=a("50c4"),c=a("7b0b"),i=a("65f0"),l=a("8418"),u=a("1dde"),d=u("splice"),p=Math.max,b=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var a,r,u,d,m,g,v=c(this),w=o(v.length),k=n(t,w),x=arguments.length;if(0===x?a=r=0:1===x?(a=0,r=w-k):(a=x-2,r=b(p(s(e),0),w-k)),w+a-r>f)throw TypeError(h);for(u=i(v,r),d=0;d<r;d++)m=k+d,m in v&&l(u,d,v[m]);if(u.length=r,a<r){for(d=k;d<w-r;d++)m=d+r,g=d+a,m in v?v[g]=v[m]:delete v[g];for(d=w;d>w-r+a;d--)delete v[d-1]}else if(a>r)for(d=w-r;d>k;d--)m=d+r-1,g=d+a-1,m in v?v[g]=v[m]:delete v[g];for(d=0;d<a;d++)v[d+k]=arguments[d+2];return v.length=w-r+a,u}})},c724:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{ref:"modal",attrs:{id:"modal",name:"modal",size:"lg",title:"Clientes","ok-only":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){var r=e.close;return[a("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return r()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã")])])]}}])},[a("b-container",{attrs:{fluid:""},scopedSlots:t._u([{key:"modal-footer",fn:function(){},proxy:!0}])},[a("b-row",[a("b-col",{staticStyle:{"margin-bottom":"30px","margin-top":"0px"},attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Escribe lo que quieras buscar"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Buscar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{items:t.datos,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,stacked:"md","empty-text":"No hay clientes registrados","show-empty":"",small:"",id:"tabla-clientes"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"empty",fn:function(e){return[a("h6",[t._v(t._s(e.emptyText))])]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(a){return t.seleccionar(e.item)}}},[a("b-icon",{attrs:{icon:"hand-thumbs-up"}})],1)]}}])}),a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},n=[],s=a("1da1"),o=(a("96cf"),a("d81d"),a("4de4"),a("711d")),c={name:"ModalTablaClientes",data:function(){return{objetocliente:null,datos:[],cliente_id:"0",totalRows:1,currentPage:1,perPage:10,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],display:!1,consulta:null,resultdelete:"",accion:"",fields:[{key:"apellido",label:"Apellido",sortable:!0,sortDirection:"desc"},{key:"nombre",label:"Nombre",sortable:!0,class:"text-center"},{key:"dni",label:"DNI",sortable:!0,class:"text-center"},{key:"telefono",label:"Telefono",sortable:!0,class:"text-center"},{key:"actions",label:"Elegir"}],infoModal:{id:"info-modal",title:"",content:""}}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},created:function(){this.getclientes()},mounted:function(){this.totalRows=this.datos.length},methods:{getclientes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getClientes();case 2:a=e.sent,t.datos=a,t.display=!0;case 5:case"end":return e.stop()}}),e)})))()},showModal:function(){this.$refs["modal"].show()},hideModal:function(){this.$refs["modal"].hide()},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},sendcliente:function(t){var e=t;return e},getcliente:function(t){return this.objetocliente=Object.assign({},t),this.objetocliente},seleccionar:function(t){this.$emit("avisar",this.getcliente(t)),this.hideModal()},cargar:function(){this.getclientes()}}},i=c,l=(a("6f11"),a("2877")),u=Object(l["a"])(i,r,n,!1,null,null,null);e["default"]=u.exports},e528:function(t,e,a){},fbf0:function(t,e,a){"use strict";a("7d81")}}]);
//# sourceMappingURL=chunk-0e723526.ffcca803.js.map