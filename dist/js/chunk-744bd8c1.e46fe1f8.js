(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-744bd8c1"],{"709d":function(e,t,n){"use strict";var r=n("1da1"),a=n("d4ec"),s=n("bee2"),c=(n("96cf"),n("bb36")),i=n("49c2"),u="cuentas/",o=new i["a"],l=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,[{key:"getToken",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.getToken(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getheaders",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:return t=e.sent,n={"Content-Type":"application/json",Authorization:"Bearer "+t.access},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCuentas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u+"lista",e.next=3,this.getheaders();case 3:return n=e.sent,e.next=6,c["a"].get(t,{headers:n});case 6:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDetalleCuentas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=u+"detallescuenta",e.next=3,this.getheaders();case 3:return a=e.sent,s={numero_cuenta:t,dni_solicitante:n},e.next=7,c["a"].get(r,{params:s},{headers:a});case 7:return i=e.sent,e.abrupt("return",i.data);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"cuentasbycliente",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=u+"reportescuentas",a={cliente:t,numero_cuenta:n},e.next=4,this.getheaders();case 4:return s=e.sent,e.next=7,c["a"].get(r,{params:a},{headers:s});case 7:return i=e.sent,e.abrupt("return",i.data);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getNumCuenta",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u+"numerocuenta",e.next=3,this.getheaders();case 3:return n=e.sent,e.next=6,c["a"].get(t,{headers:n});case 6:return r=e.sent,e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addcuenta",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return n=e.sent,r=u+"registrarcuenta",e.next=6,c["a"].post(r,t,{headers:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatecuenta",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getheaders();case 2:return r=e.sent,a=u+t+"/",e.next=6,c["a"].put(a,n,{headers:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deletecuenta",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=u+t+"/",e.next=3,this.getheaders();case 3:return r=e.sent,e.next=6,c["a"].delete(n,{headers:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"cuotascuenta",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=u+"cuotascuenta",e.next=3,this.getheaders();case 3:return r=e.sent,a={num_cuenta:t},e.next=7,c["a"].get(n,{params:a},{headers:r});case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"refinanciar_cuenta",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=u+"refinanciarcuenta",e.next=3,this.getheaders();case 3:return s=e.sent,i={cuenta:t,cant_cuotas:n,fecha_venc:r},e.next=7,c["a"].post(a,i,{headers:s});case 7:return o=e.sent,e.abrupt("return",o.data);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"nuevopago",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=u+"nuevopago",e.next=3,this.getheaders();case 3:return r=e.sent,e.next=6,c["a"].post(n,t,{headers:r});case 6:return a=e.sent,e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new l},a172:function(e,t,n){},a762:function(e,t,n){"use strict";n("a172")},cea5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-container",{attrs:{fluid:""}},[n("b-row",{attrs:{"align-h":"between"}},[n("b-col",{attrs:{cols:"4"}},[n("h3",[e._v("Cuentas de "+e._s(this.nombrecliente))])]),n("b-col",{attrs:{cols:"2"}},[n("b-button",{staticStyle:{margin:"10px"},attrs:{to:"clientes"}},[n("b-icon",{attrs:{icon:"arrow-left-circle-fill"}})],1)],1)],1),n("b-row",[n("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Escribe lo que quieras buscar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("b-input-group-append",[n("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Buscar")])],1)],1)],1)],1),n("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"6"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Clientes por pagina","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[n("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),n("b-table",{attrs:{items:e.cuentas,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","show-empty":"",small:"",id:"tabla-clientes"},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(t.value.first)+" "+e._s(t.value.last)+" ")]}},{key:"cell(actions)",fn:function(t){return[n("b-button",{staticClass:"action",attrs:{id:"editarcuenta",size:"sm"},on:{click:function(n){e.abrirmodal("modificar",e.getcuenta(t.item))}}},[n("b-icon",{attrs:{icon:"tag-fill"}})],1),n("b-tooltip",{attrs:{target:"editarcuenta",triggers:"hover"}},[e._v(" Editar esta cuenta ")]),n("b-button",{staticClass:"action",attrs:{id:"eliminarcuenta",size:"sm"},on:{click:function(n){return e.deleteswal(t.item)}}},[n("b-icon",{attrs:{icon:"trash-fill"}})],1),n("b-tooltip",{attrs:{target:"eliminarcuenta",triggers:"hover"}},[e._v(" Eliminar esta cuenta ")]),n("b-button",{staticClass:"action",attrs:{id:"detallecuenta",size:"sm"},on:{click:function(n){return e.detallecuenta(t.item)}}},[n("b-icon",{attrs:{icon:"folder2"}})],1),n("b-tooltip",{attrs:{target:"detallecuenta",triggers:"hover"}},[e._v(" Detalle de esta cuenta ")]),n("b-button",{staticClass:"action",attrs:{size:"sm",id:"cuotaspagos"},on:{click:function(n){return e.detallepagos(t.item)}}},[n("b-icon",{attrs:{icon:"wallet2"}})],1),n("b-tooltip",{attrs:{target:"cuotaspagos",triggers:"hover"}},[e._v(" Cuotas y pagos de esta cuenta ")])]}}])}),n("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)},a=[],s=n("1da1"),c=(n("96cf"),n("709d")),i={name:"CuentasCliente",components:{},data:function(){return{objetocliente:null,datos:[],cliente_id:"0",totalRows:1,currentPage:1,perPage:10,cuentas:null,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],display:!1,consulta:null,resultdelete:"",dnicliente:"",nombrecliente:"",accion:"",fields:[{key:"fecha",label:"Fecha",sortable:!0,class:"text-center"},{key:"garante",label:"Garante",sortable:!0,sortDirection:"desc"},{key:"importe",label:"Importe",sortable:!0,class:"text-center"},{key:"numero_cuenta",label:"NÂ° cuenta",sortable:!0,class:"text-center"},{key:"anticipo",label:"saldo",sortable:!0,class:"text-center"},{key:"metodo_pago",label:"metodo_pago",sortable:!0,class:"text-center"},{key:"estado",label:"estado",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones"}],infoModal:{id:"info-modal",title:"",content:""}}},created:function(){this.dnicliente=this.$route.query.dni,this.nombrecliente=this.$route.query.nombre,console.log(this.cliente.nombre)},mounted:function(){this.getcuentas()},methods:{getcuentas:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.dnicliente),t.next=3,c["a"].cuentasbycliente(e.dnicliente,null);case 3:n=t.sent,console.log(n),e.cuentas=n;case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},detallepagos:function(e){console.log(e.id),this.$router.push({path:"/detallepagos",query:{num_cuenta:e.numero_cuenta,id_cuenta:e.id}})},detallecuenta:function(e){this.$router.push({path:"/detallecuenta",query:{num_cuenta:e.numero_cuenta,solicitante_dni:e.solicitante_dni}})}}},u=i,o=(n("a762"),n("2877")),l=Object(o["a"])(u,r,a,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-744bd8c1.e46fe1f8.js.map