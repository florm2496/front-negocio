(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2086cb44"],{"2e3b":function(t,e,a){},"709d":function(t,e,a){"use strict";var r=a("1da1"),n=a("d4ec"),s=a("bee2"),o=(a("96cf"),a("bb36")),c=a("49c2"),u="cuentas/",i=new c["a"],l=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,[{key:"getToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i.getToken(),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getheaders",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:return e=t.sent,a={"Content-Type":"application/json",Authorization:"Bearer "+e.access},t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCuentas",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u+"lista",t.next=3,this.getheaders();case 3:return a=t.sent,t.next=6,o["a"].get(e,{headers:a});case 6:return r=t.sent,console.log(r.data),t.abrupt("return",r.data);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDetalleCuentas",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=u+"detallescuenta",t.next=3,this.getheaders();case 3:return n=t.sent,s={numero_cuenta:e,dni_solicitante:a},t.next=7,o["a"].get(r,{params:s},{headers:n});case 7:return c=t.sent,t.abrupt("return",c.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"detalleCuentaCliente",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=u+"detallecuentacliente",n={cliente:e,numero_cuenta:a},t.next=4,this.getheaders();case 4:return s=t.sent,t.next=7,o["a"].get(r,{params:n},{headers:s});case 7:return c=t.sent,t.abrupt("return",c.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getNumCuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u+"numerocuenta",t.next=3,this.getheaders();case 3:return a=t.sent,t.next=6,o["a"].get(e,{headers:a});case 6:return r=t.sent,t.abrupt("return",r.data);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addcuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return a=t.sent,r=u+"registrarcuenta",t.next=6,o["a"].post(r,e,{headers:a});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updatecuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return r=t.sent,n=u+e+"/",t.next=6,o["a"].put(n,a,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"deletecuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=u+"lista"+e+"/",t.next=3,this.getheaders();case 3:return r=t.sent,t.next=6,o["a"].delete(a,{headers:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"cuotascuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=u+"cuotascuenta",t.next=3,this.getheaders();case 3:return r=t.sent,n={num_cuenta:e},t.next=7,o["a"].get(a,{params:n},{headers:r});case 7:return s=t.sent,t.abrupt("return",s.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refinanciar_cuenta",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a,r){var n,s,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=u+"refinanciarcuenta",t.next=3,this.getheaders();case 3:return s=t.sent,c={cuenta:e,cant_cuotas:a,fecha_venc:r},t.next=7,o["a"].post(n,c,{headers:s});case 7:return i=t.sent,t.abrupt("return",i.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e,a,r){return t.apply(this,arguments)}return e}()},{key:"nuevopago",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=u+"nuevopago",t.next=3,this.getheaders();case 3:return r=t.sent,t.next=6,o["a"].post(a,e,{headers:r});case 6:return n=t.sent,t.abrupt("return",n.data);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=new l},"98de":function(t,e,a){"use strict";a("2e3b")},b7c7:function(t,e,a){"use strict";var r=a("1da1"),n=a("d4ec"),s=a("bee2"),o=(a("96cf"),a("bb36")),c=a("49c2"),u="base/",i=new c["a"],l=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,[{key:"getToken",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i.getToken(),console.log("tokeeeen",e),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getheaders",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:return e=t.sent,a={"Content-Type":"application/json",Authorization:"Bearer "+e.access},t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getEstadisticas",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return e=t.sent,a=u+"estadisticas/",t.prev=4,t.next=7,o["a"].get(a,{headers:e});case 7:return r=t.sent,t.abrupt("return",r.data);case 11:t.prev=11,t.t0=t["catch"](4),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"actualizarConfigs",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,this.getheaders();case 3:return a=t.sent,r=u+"configuraciones/",t.next=7,o["a"].post(r,e,{headers:a});case 7:return n=t.sent,t.abrupt("return",n.data);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getConfiguraciones",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getheaders();case 2:return e=t.sent,a=u+"configuraciones/",t.next=6,o["a"].get(a,{headers:e});case 6:return r=t.sent,t.abrupt("return",r.data);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=new l},efe6:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{staticClass:"bv-example-row bv-example-row-flex-cols",attrs:{fluid:"xl"}},[a("b-row",[a("b-row",[a("b-col",{attrs:{cols:"6"}}),a("b-col",{attrs:{cols:"6"}},[a("b-row")],1)],1),a("b-col"),a("b-col",[a("label",{attrs:{for:""}},[a("h4",[t._v("Cuenta N° "+t._s(t.cuenta.numero_cuenta))])]),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[t._v("Solicitante")]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"9"}}),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Apellido")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.solicitante.apellido,callback:function(e){t.$set(t.solicitante,"apellido",e)},expression:"solicitante.apellido"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Nombre")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.solicitante.nombre,callback:function(e){t.$set(t.solicitante,"nombre",e)},expression:"solicitante.nombre"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("DNI")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.solicitante.dni,callback:function(e){t.$set(t.solicitante,"dni",e)},expression:"solicitante.dni"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[t._v("Telefono"),a("label",{attrs:{for:"Telefono"}})]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.solicitante.telefono,callback:function(e){t.$set(t.solicitante,"telefono",e)},expression:"solicitante.telefono"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("label",{attrs:{for:""}},[t._v("Garantes")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"9"}},[a("label",{attrs:{for:""}})]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("DNI")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante1.dni,callback:function(e){t.$set(t.garante1,"dni",e)},expression:"garante1.dni"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Apellido")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante1.apellido,callback:function(e){t.$set(t.garante1,"apellido",e)},expression:"garante1.apellido"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("DNI")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"3"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante2.dni,callback:function(e){t.$set(t.garante2,"dni",e)},expression:"garante2.dni"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Apellido")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.garante2.apellido,callback:function(e){t.$set(t.garante2,"apellido",e)},expression:"garante2.apellido"}})],1)],1)],1),a("b-col",[a("b-container",{staticStyle:{margin:"15px"}},[a("b-row",[a("b-row",[a("b-col",{attrs:{cols:"6"}}),a("b-col",{attrs:{cols:"4"}}),a("b-col",{attrs:{cols:"2"}},[a("b-button",{staticStyle:{margin:"10px"},attrs:{to:"cuentas"}},[a("b-icon",{attrs:{icon:"arrow-left-circle-fill"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Total")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cuenta.importe,callback:function(e){t.$set(t.cuenta,"importe",e)},expression:"cuenta.importe"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Fecha")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cuenta.fecha,callback:function(e){t.$set(t.cuenta,"fecha",e)},expression:"cuenta.fecha"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Descuento")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cuenta.descuento,callback:function(e){t.$set(t.cuenta,"descuento",e)},expression:"cuenta.descuento"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Anticipo")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cuenta.anticipo,callback:function(e){t.$set(t.cuenta,"anticipo",e)},expression:"cuenta.anticipo"}})],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Cuotas")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cuenta.cuotas,callback:function(e){t.$set(t.cuenta,"cuotas",e)},expression:"cuenta.cuotas"}})],1),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"2"}},[a("label",{attrs:{for:""}},[t._v("Metodo de pago")])]),a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"4"}},[a("b-form-input",{attrs:{disabled:""},model:{value:t.cuenta.metodo_pago,callback:function(e){t.$set(t.cuenta,"metodo_pago",e)},expression:"cuenta.metodo_pago"}})],1)],1),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("label",{attrs:{for:""}})]),a("b-col",{attrs:{cols:"6"}},[a("label",{attrs:{for:""}})])],1),a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("label",{attrs:{for:""}})]),a("b-col",{attrs:{cols:"6"}},[a("label",{attrs:{for:""}})])],1),a("b-row",[a("b-col",{attrs:{cols:"7"}},[a("label",{attrs:{for:""}})]),a("b-col",{attrs:{cols:"5"}},[a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.deleteswal()}}},[t._v("Borrar esta cuenta "),a("b-icon",{attrs:{icon:"trash-fill"}})],1)],1)],1)],1)],1),a("b-row"),a("b-row",[a("b-col"),a("b-col")],1)],1)],1),a("b-row",[a("b-col",{staticClass:"mr-auto p-3",attrs:{cols:"10"}},[a("label",{attrs:{for:""}},[a("h4",[t._v("Detalles de productos")])])]),a("b-row"),a("b-row")],1),a("b-row",[a("b-container",[a("b-table",{attrs:{striped:"",hover:"",items:this.detalles,fields:t.fields},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(a){return t.eliminar(e.item,e.index)}}},[a("b-icon",{attrs:{icon:"x"}})],1)]}}])})],1)],1)],1)],1)},n=[],s=a("1da1"),o=(a("96cf"),a("b7c7")),c=a("709d"),u={name:"DetalleCuenta",components:{},data:function(){return{configs:{},num_cuenta:"",saldo:0,total:0,solicitante:0,pagos:null,hora:"",nuevo_pago:{monto:0,metodo:""},cuotapagada:!1,estado:0,titulo_modal:"",soliciante_dni:"",detalles:[],garante1:"",garante2:{apellido:"",dni:""},fields:[{key:"producto.nombre",label:"Producto",sortable:!0,class:"text-center"},{key:"producto.codigo",label:"Codigo",sortable:!0,sortDirection:"desc"},{key:"subtotal",label:"Subtotal",sortable:!0,class:"text-center"},{key:"cantidad",label:"Cantidad",sortable:!0,class:"text-center"},{key:"descuento",label:"Descuento",sortable:!0,class:"text-center"}],cuenta:{solicitante:"",importe:0,garante:"",saldo:0,estado:null},cuotas:null,cuota_actual:null,saldo_cuota:0,dni_sol:""}},created:function(){this.numero_cuenta=this.$route.query.numcuenta,this.dni_sol=this.$route.query.solicitante},mounted:function(){this.hora=new Date,this.getdetalles(),this.getConfigs()},methods:{getdetalles:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].detalleCuentaCliente(t.dni_sol,t.numero_cuenta);case 2:a=e.sent,t.cuenta=a[0],t.solicitante=t.cuenta.solicitante,t.detalles=t.cuenta.detalles,t.garante1=t.cuenta.garante1,console.log(t.detalles),null!=t.cuenta.garante2&&(t.garante2=t.cuenta.garante2);case 9:case"end":return e.stop()}}),e)})))()},getConfigs:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getConfiguraciones();case 2:t.configs=e.sent;case 3:case"end":return e.stop()}}),e)})))()},confirmar_borrado_cuenta:function(){var t=this;this.$swal({title:"Ingrese la contraseña para poder borrar esta cuenta",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Borrar",showLoaderOnConfirm:!0,preConfirm:function(){},allowOutsideClick:function(){return!t.$swal.isLoading()}}).then((function(e){if(e.isConfirmed){var a=e.value;console.log(a,t.configs.password_utilidades),a==t.configs.password_utilidades?t.borrar_cuenta():t.$swal("Ups,la contraseña ingresada es incorrecta","No se puede actualizar este campo","warning")}})),this.response_configs=null},borrar_cuenta:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].deletecuenta(t.cuenta.id);case 2:a=e.sent,204==a.status?t.$swal("Bien","Cuenta borrada correctamente","success"):t.$swal("error",t.response_configs,"error"),t.$router.push("cuentas");case 5:case"end":return e.stop()}}),e)})))()},confirmswal:function(t,e){return this.$swal({title:t.toUpperCase(),text:e,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"SI, ELIMINAR ",cancelButtonText:"CANCELAR"})},deleteswal:function(){var t=this,e="N de cuenta  "+this.cuenta.numero_cuenta+" del solicitante  "+this.solicitante.nombre,a="Seguro quieres borrar esta cuenta?.Se perderan todos los datos";this.confirmswal(a,e).then((function(e){e.isConfirmed&&t.confirmar_borrado_cuenta()}))}}},i=u,l=(a("98de"),a("2877")),p=Object(l["a"])(i,r,n,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2086cb44.52142ad6.js.map